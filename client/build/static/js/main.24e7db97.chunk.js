(this["webpackJsonpecommerce-react-graphql-stripe"]=this["webpackJsonpecommerce-react-graphql-stripe"]||[]).push([[0],{117:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(53),r=a(0),i=a.n(r),l=a(23),c=a.n(l),s=a(49),o=a(126),m=a(127),d=a(129),u=function(e){return"$".concat(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},p=function(e){return Number(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},h=function(e){return Number(e.reduce((function(e,t){return e+t.quantity}),0))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart";localStorage&&localStorage.setItem(t,JSON.stringify(e))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart";return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart";localStorage&&localStorage.removeItem(e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwt";return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jwt";localStorage&&localStorage.setItem(t,JSON.stringify(e))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwt";localStorage&&localStorage.removeItem(e)},S=(a(59),a(4)),I=a.n(S),C=a(12),w=a(5),O=a(6),_=a(8),T=a(7),x=a(2),k=a(35),j=a(47),A=function(e){return e.show&&i.a.createElement(x.a,{position:"fixed",dangerouslySetInlineStyle:{__style:{bottom:300,left:"50%",transform:"translateX(-50%)"}}},i.a.createElement(j.GridLoader,{color:"darkorange",size:25,margin:"3px"}))},D=a(13),N=a(17),P=(a(40),a(21),{fontSize:"24px",fontFamily:"calibri light",fontWeight:"bold",textAlign:"center"}),R=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:[]},e.addToCart=function(t){var a=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===a){var n=e.state.cartItems.concat(Object(N.a)({},t,{quantity:1}));e.setState({cartItems:n},(function(){return g(n)}))}else{var r=Object(D.a)(e.state.cartItems);r[a].quantity+=1,e.setState({cartItems:r},(function(){return g(r)}))}},e.countItemToDelete=function(t){var a=e.state.cartItems.findIndex((function(e){return e._id===t}));1!==a?(console.log("THIS IS ALREADY IN CART",a),e.deleteItemsFromCart(t)):(console.log(e.state.cartItems),e.deleteItemsFromCart(t))},e.deleteItemsFromCart=function(t){var a=e.state.cartItems.filter((function(e){return e._id!==t}));console.log("THIS IS ITEM TO DELETE",t),e.setState({cartItems:a},(function(){return g(a)}))},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setState({cartItems:f()})}},{key:"render",value:function(){var e=this,t=this.state.cartItems;return i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{display:"flex",direction:"row",marginLeft:10},i.a.createElement(x.d,{span:2},i.a.createElement(x.a,null,i.a.createElement(x.m,{color:"white"}))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94e2dc3bcd3de0016978"},i.a.createElement("div",null,i.a.createElement("p",null,"Automotive")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9519dc3bcd3de001697b"},i.a.createElement("div",null,i.a.createElement("p",null,"Books")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94a0dc3bcd3de0016975"},i.a.createElement("div",null,i.a.createElement("p",null,"Electronics")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9457dc3bcd3de0016972"},i.a.createElement("div",null,i.a.createElement("p",null,"Fashion")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf8d67dc3bcd3de001696f"},i.a.createElement("div",null,i.a.createElement("p",null,"Home")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9551dc3bcd3de001697e"},i.a.createElement("div",null,i.a.createElement("p",null,"Sports Outdoor")," "))),i.a.createElement("div",{className:"lineitems"},i.a.createElement("p",null," ",h(t)," ",i.a.createElement("i",{className:"fa fa-shopping-cart"}," ")," "))),i.a.createElement(x.a,{alignSelf:"end",marginTop:292,marginLeft:8,marginRight:8,padding:4},i.a.createElement(x.a,{margin:2},i.a.createElement("div",{style:P},"Shopping Cart"))),i.a.createElement("div",{className:"card"},i.a.createElement(x.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(x.a,{margin:2},0===t.length&&i.a.createElement(x.m,{color:"red"},"Please select some items"))),i.a.createElement(x.a,{display:"flex",direction:"row",column:6,paddingX:2},i.a.createElement(x.a,null,t.map((function(t){return i.a.createElement("div",{className:"card-item"},i.a.createElement(x.a,{key:t._id,display:"flex",direction:"row",marginTop:2,marginLeft:3,paddingLeft:2,paddingRight:2},i.a.createElement(x.a,{display:"flex",direction:"row"},i.a.createElement(x.a,{height:120,width:80},i.a.createElement(x.h,{fit:"cover",alt:"item",naturalHeight:1,naturalWidth:1,src:t.thumbnail}))),i.a.createElement(x.a,{padding:2},i.a.createElement(x.a,{display:"flex",direction:"row",marginBottom:5},i.a.createElement(x.m,{bold:!0,size:"sl",color:"blue"},t.name)),i.a.createElement(x.a,{display:"flex",direction:"row"},i.a.createElement(x.m,{color:"orchid",size:"sm"},"Unit Price: $",t.price)),i.a.createElement(x.a,{display:"flex",direction:"row"},i.a.createElement(x.m,{color:"green",size:"sm"},"Qty: ",t.quantity)),i.a.createElement(x.m,{color:"green",size:"sm"},"Price: $",(t.quantity*t.price).toFixed(2)),i.a.createElement(x.a,{display:"flex",direction:"row"},i.a.createElement("div",{className:"delete-button"},i.a.createElement("button",{onClick:function(){return e.countItemToDelete(t._id)}},"Delete")),i.a.createElement("div",{className:"save-for-later"},i.a.createElement("p",null,"Save for later")),i.a.createElement("div",{className:"save-for-later"},i.a.createElement("p",null,"Compare with similar item"))))))}))),i.a.createElement(x.a,{column:4,marginLeft:10,marginTop:10,width:150},i.a.createElement("div",{className:"carttotal"},i.a.createElement(x.a,{align:"center",display:"flex",direction:"column",width:550},i.a.createElement("div",{className:"carttotal"},i.a.createElement(x.m,{bold:!0,color:"black",size:"sm"},"Subtotal (",h(t)," items )",": "),i.a.createElement(x.m,{align:"center",bold:!0,size:"md",color:"red"},u(t))),i.a.createElement(x.a,{width:250},i.a.createElement(x.m,null,i.a.createElement(k.a,{to:"/checkout"},i.a.createElement(x.b,{padding:2,size:"md",width:550,color:"blue",text:"Checkout"}))))))))))}}]),a}(i.a.Component),L=a(15),F=a.n(L),z=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",W=new F.a(z),q=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchedResult:[],searchTermName:"",searchedResults:[],items:[],displayingCart:!1,cartItems:[]},e.displayingCartItems=function(){e.setState({displayingCart:!0})},e.addToCart=function(t){var a=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===a){var n=e.state.cartItems.concat(Object(N.a)({},t,{quantity:1}));e.setState({cartItems:n},(function(){return g(n)}))}else{var r=Object(D.a)(e.state.cartItems);r[a].quantity+=1,e.setState({cartItems:r},(function(){return g(r)}))}},e.searchDepartments=Object(C.a)(I.a.mark((function t(){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(e.state.searchTermName.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:a=t.sent,e.setState({searchedResults:a.data.items,cartItems:f()}),console.log(e.state.searchedResults);case 5:case"end":return t.stop()}}),t)}))),e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setState({searchTermName:this.props.searchTerm}),console.log("THIS IS SEARCHED ITEMS NAME",this.state.searchTermName),this.searchDepartments()}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchedResults,n=t.cartItems,r=t.displayingCart;return i.a.createElement(i.a.Fragment,null,!1===r?i.a.createElement(B,{cartItems:n,displayingCartItems:this.displayingCartItems}):[],i.a.createElement("div",null,!0===r?i.a.createElement(R,null):[]),i.a.createElement("div",{className:"card"},i.a.createElement(x.a,{align:"center"},i.a.createElement(x.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},a.map((function(t){return i.a.createElement(x.a,{paddingY:4,margin:2,width:200,key:t._id},i.a.createElement(x.c,{image:i.a.createElement(x.a,{height:80,width:80},i.a.createElement(x.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail}))},i.a.createElement(x.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(x.a,{marginBottom:2},i.a.createElement(x.m,{bold:!0,size:"sm"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t?e:e.substr(0,t)+"...":" "}(t.name))),i.a.createElement(x.m,{size:"sm"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return e?e.length<=t?e:e.substr(0,t)+"...":" "}(t.description)),i.a.createElement(x.m,{color:"orchid"},"$",t.price),i.a.createElement(x.a,{marginTop:2},i.a.createElement(x.m,{size:"sm"},i.a.createElement(x.b,{size:"sm",onClick:function(){return e.addToCart(t)},color:"blue",text:"Add to Cart"}))))))}))))))}}]),a}(r.Component),B=function(e){var t=e.cartItems,a=e.displayingCartItems;return i.a.createElement(x.a,{display:"flex",direction:"row",marginLeft:10},i.a.createElement(x.d,{span:2},i.a.createElement(x.a,null,i.a.createElement(x.m,{color:"white"}))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94e2dc3bcd3de0016978"},i.a.createElement("div",null,i.a.createElement("p",null,"Automotive")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9519dc3bcd3de001697b"},i.a.createElement("div",null,i.a.createElement("p",null,"Books")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94a0dc3bcd3de0016975"},i.a.createElement("div",null,i.a.createElement("p",null,"Electronics")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9457dc3bcd3de0016972"},i.a.createElement("div",null,i.a.createElement("p",null,"Fashion")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf8d67dc3bcd3de001696f"},i.a.createElement("div",null,i.a.createElement("p",null,"Home")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9551dc3bcd3de001697e"},i.a.createElement("div",null,i.a.createElement("p",null,"Sports Outdoor")," "))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(x.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0},i.a.createElement(x.b,{size:"sm",onClick:a,color:"blue",text:"View Cart"})),i.a.createElement("p",null,t.length,i.a.createElement("i",{className:"fa fa-shopping-cart"}," ")," ")))},M=q,U=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",K=new F.a(U),H={fontSize:"30px",fontFamily:"calibri light"},Y=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={departments:[],department:[],departmentId:[],cartItems:[],items:[],searchedItems:[],searchTerm:"",loadingDepartments:!0,redirect:!1,searchTermState:!1},e.renderRedirect=function(){if(e.state.redirect)return i.a.createElement(o.a,{to:"/SearchResult"})},e.handleChange=function(t){var a=t.value;e.setState({searchTerm:a},(function(){return e.searchDepartments()}))},e.searchDepartments=Object(C.a)(I.a.mark((function t(){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(e.state.searchTerm.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:a=t.sent,e.setState({searchedItems:a.data.items,loadingDepartments:!1,redirect:!0,searchTermState:!0});case 4:case"end":return t.stop()}}),t)}))),e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.request("POST","/graphql",{data:{query:"query {\n           departments {\n              _id\n              name\n              description\n              image {\n                url\n              }\n            }\n          }"}});case 3:t=e.sent,this.setState({departments:t.data.departments,loadingDepartments:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),this.setState({loadingDepartments:!1});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchTerm,a=e.searchTermState,n=e.loadingDepartments,r=e.departments;return i.a.createElement(i.a.Fragment,null,i.a.createElement(x.e,null,i.a.createElement(x.a,{display:"flex",justifyContent:"center",marginTop:4},i.a.createElement(x.k,{id:"searchField",accessibilityLabel:"Departments Search Field",onChange:this.handleChange,value:t,placeholder:"Search Departments"}),i.a.createElement(x.a,{margin:3},i.a.createElement(x.g,{icon:"filter",color:t?"orange":"gray",size:20,accessibilityLabel:"Filter"}))),i.a.createElement(x.a,{display:"flex",justifyContent:"center",marginBottom:2},i.a.createElement("div",{style:H,color:"black"},"Shop by Departments")),i.a.createElement(x.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},r.map((function(e){return i.a.createElement(x.a,{paddingY:4,margin:2,width:200,key:e._id},i.a.createElement(x.c,{image:i.a.createElement(x.a,{height:200,width:200},i.a.createElement(k.a,{to:"/".concat(e._id)},i.a.createElement(x.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:"".concat(U).concat(e.image.url)})))},i.a.createElement(x.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(x.m,{bold:!0,size:"sm"}," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t?e:e.substr(0,t)+"...":" "}(e.name)),i.a.createElement(x.m,{size:"sm"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return e?e.length<=t?e:e.substr(0,t)+"...":" "}(e.description)," "))))}))),i.a.createElement(A,{show:n}),i.a.createElement("div",null,a?i.a.createElement(M,{searchTerm:t}):null===this.state.searchTerm&&i.a.createElement(M,{searchTerm:this.state.searchTerm}),this.renderRedirect())))}}]),a}(r.Component),V=a(125),$=a(128),G=(a(117),function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:[]},e.handleSignout=function(){b(),E(),e.props.history.push("/")},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props),this.setState({cartItems:f()})}},{key:"render",value:function(){var e=this.state.cartItems;return null!==v()?i.a.createElement(J,{handleSignout:this.handleSignout,cartItems:e}):i.a.createElement(X,null)}}]),a}(i.a.Component)),J=function(e){var t=e.handleSignout,a=e.cartItems;return i.a.createElement(x.a,{display:"flex",alignItems:"center",justifyContent:"around",height:50,color:"blue",padding:1,borderRadius:32},i.a.createElement(V.a,{activeClassName:"active",exact:!0,to:"/"},i.a.createElement(x.a,{display:"flex",alignItems:"center"},i.a.createElement(x.a,{marginTop:12,margin:2,height:90,width:180},i.a.createElement(x.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo-in.png"})))),i.a.createElement("div",{className:"signout-spacing"},i.a.createElement(x.b,{onClick:t,color:"transparent",text:"Sign Out",inline:!0,size:"md"})),i.a.createElement(V.a,{activeClassName:"active",to:"/checkout"},i.a.createElement("div",{className:"checkout-spacing"},i.a.createElement("p",null,h(a),i.a.createElement("i",{className:"fa fa-shopping-cart"}," "," Checkout ")," "))))},X=function(){return i.a.createElement(x.a,{display:"flex",alignItems:"center",justifyContent:"around",height:60,color:"gray",padding:1,shape:"roundedBottom"},i.a.createElement(V.a,{activeClassName:"active",exact:!0,to:"/"},i.a.createElement(x.a,{display:"flex",alignItems:"center"},i.a.createElement(x.a,{marginTop:12,margin:2,height:90,width:180},i.a.createElement(x.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo.png"})))),i.a.createElement(V.a,{activeClassName:"active",to:"/signin"},i.a.createElement("div",{className:"signin-spacing"},i.a.createElement("i",{className:"fa fa-sign-in","aria-hidden":"true",title:"Sign In"}))),i.a.createElement(V.a,{activeClassName:"active",to:"/signup"},i.a.createElement("div",{className:"signup-spacing"},i.a.createElement("span",null,"Get Started"))))},Q=Object($.a)(G),Z=a(18),ee=function(e){var t=e.show,a=e.message;return t&&i.a.createElement(x.a,{dangerouslySetInlineStyle:{__style:{bottom:330,left:"50%",transform:"translatex(-50%)"}},position:"fixed"},i.a.createElement(x.o,{color:"orange",text:a}))},te=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",ae=new F.a(te),ne={fontSize:"22px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},re=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",toast:!1,toastMessage:"",loading:!1},e.handleChange=function(t){var a=t.event,n=t.value;a.persist(),e.setState(Object(Z.a)({},a.target.name,n))},e.handleSubmit=function(){var t=Object(C.a)(I.a.mark((function t(a){var n,r,i,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.username,i=n.password,!e.isFormEmpty(e.state)){t.next=5;break}return e.showToast("Fill in all fields"),t.abrupt("return");case 5:return t.prev=5,e.setState({loading:!0}),t.next=9,ae.login(r,i);case 9:l=t.sent,e.setState({loading:!1}),y(l.jwt),e.redirectUser("/"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),e.setState({loading:!1}),e.showToast(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.redirectUser=function(t){return e.props.history.push(t)},e.isFormEmpty=function(e){var t=e.username,a=e.password;return!t||!a},e.showToast=function(t){e.setState({toast:!0,toastMessage:t}),setTimeout((function(){return e.setState({toast:!1,toastMessage:""})}),5e3)},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,a=e.toast,n=e.loading;return i.a.createElement(x.e,null,i.a.createElement(x.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550},i.a.createElement("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450,height:210},onSubmit:this.handleSubmit},i.a.createElement(x.a,{marginBottom:2,marginTop:-3,display:"flex",direction:"column",alignItems:"center"},i.a.createElement("div",{style:ne,color:"black"},"Sign In")),i.a.createElement(x.a,{marginBottom:2},i.a.createElement(x.n,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange})),i.a.createElement(x.n,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange}),i.a.createElement(x.a,{margiginTop:5,paddingY:2},i.a.createElement(x.b,{inline:!0,disabled:n,color:"blue",text:"Submit",type:"submit"})))),i.a.createElement(ee,{show:a,message:t}))}}]),a}(i.a.Component),ie=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",le=new F.a(ie),ce={fontSize:"30px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},se=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password:"",toast:!1,toastMessage:"",loading:!1},e.handleChange=function(t){var a=t.event,n=t.value;a.persist(),e.setState(Object(Z.a)({},a.target.name,n))},e.handleSubmit=function(){var t=Object(C.a)(I.a.mark((function t(a){var n,r,i,l,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,r=n.username,i=n.email,l=n.password,!e.isFormEmpty(e.state)){t.next=5;break}return e.showToast("Fill in all fields"),t.abrupt("return");case 5:return t.prev=5,e.setState({loading:!0}),t.next=9,le.register(r,i,l);case 9:c=t.sent,e.setState({loading:!1}),y(c.jwt),e.redirectUser("/"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),e.setState({loading:!1}),e.showToast(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.redirectUser=function(t){return e.props.history.push(t)},e.isFormEmpty=function(e){var t=e.username,a=e.email,n=e.password;return!t||!a||!n},e.showToast=function(t){e.setState({toast:!0,toastMessage:t}),setTimeout((function(){return e.setState({toast:!1,toastMessage:""})}),5e3)},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,a=e.toast,n=e.loading;return i.a.createElement(x.e,null,i.a.createElement(x.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550},i.a.createElement("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleSubmit},i.a.createElement(x.a,{marginBottom:2,display:"flex",direction:"column",alignItems:"center"},i.a.createElement("div",{style:ce,color:"black"},"Let's Get Started"),i.a.createElement(x.m,{italic:!0,color:"orchid"},"Sign up to place your order!")),i.a.createElement(x.n,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),i.a.createElement(x.n,{id:"email",type:"email",name:"email",placeholder:"Email Address",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),i.a.createElement(x.n,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),i.a.createElement(x.b,{inline:!0,disabled:n,color:"blue",text:"Submit",type:"submit",className:"bg-orange m-1 p-1 rounded"}))),i.a.createElement(ee,{show:a,message:t}))}}]),a}(i.a.Component),oe=a(25),me=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",de=new F.a(me),ue=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:[],address:"",postalCode:"",city:"",confirmationEmailAddress:"",toast:!1,toastMessage:"",orderProcessing:!1,modal:!1},e.handleChange=function(t){var a=t.event,n=t.value;a.persist(),e.setState(Object(Z.a)({},a.target.name,n))},e.handleConfirmOrder=function(){var t=Object(C.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.isFormEmpty(e.state)){t.next=4;break}return e.showToast("Fill in all fields"),t.abrupt("return");case 4:e.setState({modal:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmitOrder=Object(C.a)(I.a.mark((function t(){var a,n,r,i,l,c,s,o,m;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.cartItems,r=a.city,i=a.address,l=a.postalCode,c=a.confirmationEmailAddress,s=p(n),e.setState({orderProcessing:!0}),t.prev=3,t.next=6,e.props.stripe.createToken();case 6:return m=t.sent,o=m.token.id,t.next=10,de.createEntry("orders",{amount:s,items:n,city:r,postalCode:l,address:i,token:o});case 10:return t.next=12,de.request("POST","/email",{data:{to:c,subject:"Order Confirmation - FeMMit ".concat(new Date(Date.now())),text:"Your order has been processed",html:"<bold>Expect your order to arrive in 2-3 shipping days</bold>"}});case 12:e.setState({orderProcessing:!1,modal:!1}),E(),e.showToast("Your order has been successfully submitted!",!0),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(3),e.setState({orderProcessing:!1,modal:!1}),e.showToast(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[3,17]])}))),e.isFormEmpty=function(e){var t=e.address,a=e.postalCode,n=e.city,r=e.confirmationEmailAddress;return!t||!a||!n||!r},e.showToast=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({toast:!0,toastMessage:t}),setTimeout((function(){return e.setState({toast:!1,toastMessage:""},(function(){return a&&e.props.history.push("/")}))}),5e3)},e.closeModal=function(){return e.setState({modal:!1})},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setState({cartItems:f()})}},{key:"render",value:function(){var e=this.state,t=e.toast,a=e.toastMessage,n=e.cartItems,r=e.modal,l=e.orderProcessing;return i.a.createElement(x.e,null,i.a.createElement(x.a,{color:"darkWash",margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",alignItems:"center",direction:"column"},i.a.createElement(x.f,{color:"midnight"},"Checkout"),n.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",marginTop:2,marginBottom:6},i.a.createElement(x.m,{color:"darkGray",italic:!0},n.length," items for Checkout"),i.a.createElement(x.a,{padding:2},n.map((function(e){return i.a.createElement(x.a,{key:e._id,padding:1},i.a.createElement(x.m,{color:"midnight"},e.name," x ",e.quantity," - $",e.quantity*e.price))}))),i.a.createElement(x.m,{bold:!0},"Total Amount: ",u(n))),i.a.createElement("form",{style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleConfirmOrder},i.a.createElement(x.n,{id:"address",type:"text",name:"address",placeholder:"Shipping Address",onChange:this.handleChange}),i.a.createElement(x.n,{id:"postalCode",type:"text",name:"postalCode",placeholder:"Postal Code",onChange:this.handleChange}),i.a.createElement(x.n,{id:"city",type:"text",name:"city",placeholder:"City of Residence",onChange:this.handleChange}),i.a.createElement(x.n,{id:"confirmationEmailAddress",type:"email",name:"confirmationEmailAddress",placeholder:"Confirmation Email Address",onChange:this.handleChange}),i.a.createElement(oe.CardElement,{id:"stripe__input",onReady:function(e){return e.focus()}}),i.a.createElement("button",{id:"stripe__button",type:"submit"},"Submit"))):i.a.createElement(x.a,{color:"darkWash",shape:"rounded",padding:4},i.a.createElement(x.f,{align:"center",color:"watermelon",size:"xs"},"Your Cart is Empty"),i.a.createElement(x.m,{align:"center",italic:!0,color:"green"},"Add some items!"))),r&&i.a.createElement(pe,{orderProcessing:l,cartItems:n,closeModal:this.closeModal,handleSubmitOrder:this.handleSubmitOrder}),i.a.createElement(ee,{show:t,message:a}))}}]),a}(i.a.Component),pe=function(e){var t=e.orderProcessing,a=e.cartItems,n=e.closeModal,r=e.handleSubmitOrder;return i.a.createElement(x.j,{accessibilityCloseLabel:"close",accessibilityModalLabel:"Confirm Your Order",heading:"Confirm Your Order",onDismiss:n,footer:i.a.createElement(x.a,{display:"flex",marginRight:-1,marginLeft:-1,justifyContent:"center"},i.a.createElement(x.a,{padding:1},i.a.createElement(x.b,{size:"lg",color:"red",text:"Submit",disabled:t,onClick:r})),i.a.createElement(x.a,{padding:1},i.a.createElement(x.b,{size:"lg",text:"Cancel",disabled:t,onClick:n}))),role:"alertdialog",size:"sm"},!t&&i.a.createElement(x.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",padding:2,color:"lightWash"},a.map((function(e){return i.a.createElement(x.a,{key:e._id,padding:1},i.a.createElement(x.m,{size:"lg",color:"red"},e.name," x ",e.quantity," - $",e.quantity*e.price))})),i.a.createElement(x.a,{paddingY:2},i.a.createElement(x.m,{size:"lg",bold:!0},"Total: ",u(a)))),i.a.createElement(x.l,{show:t,accessibilityLabel:"Order Processing Spinner"}),t&&i.a.createElement(x.m,{align:"center",italic:!0},"Submitting Order..."))},he=Object($.a)(Object(oe.injectStripe)(ue)),ge=function(){return i.a.createElement(oe.StripeProvider,{apiKey:"pk_test_x8yjxMCIGG0GwegNJCzILYWy00qrvPKmKA"},i.a.createElement(oe.Elements,null,i.a.createElement(he,null)))},fe=a(28),Ee=a.n(fe),ve=function(e){return Ee.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc")},ye=a(52);var be=function(e){var t=i.a.useState(!1),a=Object(ye.a)(t,2),n=a[0],r=a[1];return i.a.createElement(x.a,{marginLeft:-1,marginRight:-1},i.a.createElement(x.a,{padding:1},i.a.createElement(x.b,{text:"Details",onClick:function(){r(!n)}}),n&&i.a.createElement(x.i,null,i.a.createElement(x.j,{accessibilityModalLabel:"Item Details",heading:"Details",onDismiss:function(){r(!n)},footer:i.a.createElement(x.a,{display:"flex",marginLeft:-1,marginRight:-1,justifyContent:"center"},i.a.createElement(x.a,{padding:1},i.a.createElement(x.b,{size:"sm",text:"Close",onClick:function(){r(!n)}}))),size:"md"},i.a.createElement(x.a,{paddingX:8},e.itemDetails.map((function(e){return i.a.createElement("div",{key:e._id},i.a.createElement("img",{alt:e.name,width:"300",height:"320",className:"img-fluid",src:e.thumbnail}),i.a.createElement("span",null),i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement("b",null,e.name)),i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement("b",null,"Price :")," "," $",e.price),i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement("b",null,"Description :")," ",e.description))})))))))},Se=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",Ie=new F.a(Se),Ce={fontSize:"24px",fontFamily:"calibri light",fontWeight:"bold"},we=[],Oe=[],_e="",Te="",xe=[],ke=[],je=[],Ae=["Wars of Law","Among the Valiant","Religion","The Fall of Western Civilization","Destruction of Black Civilization","Sex in Antiquity","Wars","food","School","Country","Music","Friends","Family","Baby","Politics"],De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return e?e.length<=t?e:e.substr(0,t)+"...":" "},Ne=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={items:[],department:"",departmentId:"",cartItems:[],search:"",books:[],itemDetails:[],displayingCart:!1,loadingItems:!0},e.bookDeptId=function(){var t=Ae[Math.floor(Math.random()*Ae.length)];e.searchForBooks(t)},e.searchForBooks=function(t){ve(t).then((function(t){t.data.error?console.log(t.data.error):(we=t.data.items,e.displayBooks())})).catch((function(e){return console.log(e)}))},e.displayBooks=function(){e.setState({books:we,department:"Books"});for(var t=0;t<we.length;t++){var a=String(we[t].etag),n=String(we[t].volumeInfo.title),r=String(we[t].volumeInfo.description),i=String(we[t].volumeInfo.authors),l=String(we[t].volumeInfo.publishedDate);Te=null==we[t].volumeInfo.imageLinks?"https://lmtrain.github.io/lm-images/assets/images/books5.jpg":String(we[t].volumeInfo.imageLinks.thumbnail),_e="NOT_FOR_SALE"===we[t].saleInfo.saleability?Number(0):String(we[t].saleInfo.retailPrice.amount);r=De(r)+"\n || Author : "+i+"\n || Pulished Date : "+l,Oe.push({_id:a,name:n,description:r,thumbnail:Te,price:_e})}e.setState({items:Oe,loadingItems:!1,cartItems:f()})},e.shuffle=function(){for(var t=Object(D.a)(e.state.items),a=[],n=0;n<e.state.items.length;n++)ke=t.splice(Math.floor(Math.random()*t.length/2)),a=[].concat(Object(D.a)(a),Object(D.a)(ke));xe.push(e.state.items),e.setState({items:a})},e.addToCart=function(t){var a=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===a){var n=e.state.cartItems.concat(Object(N.a)({},t,{quantity:1}));e.setState({cartItems:n},(function(){return g(n)})),console.log(e.state.cartItems)}else{var r=Object(D.a)(e.state.cartItems);r[a].quantity+=1,e.setState({cartItems:r},(function(){return g(r)})),console.log(e.state.cartItems)}},e.deleteItemsFromCart=function(t){var a=e.state.cartItems.filter((function(e){return e._id!==t}));e.setState({cartItems:a},(function(){return g(a)}))},e.handleDetailsSubmit=function(t){var a=je.find((function(e){return e._id===t}));e.setState({itemDetails:[a]})},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("5dcf9519dc3bcd3de001697b"!==this.props.itemDeptId){e.next=4;break}this.bookDeptId(),e.next=16;break;case 4:return e.prev=4,e.next=7,Ie.request("POST","/graphql",{data:{query:'query {\n                    department(id: "'.concat(this.props.itemDeptId,'") {\n                      _id\n                      name\n                      items {\n                        _id\n                        name\n                        description\n                        thumbnail                       \n                        price\n                      }    \n                    }\n                }')}});case 7:t=e.sent,je=t.data.department.items,this.setState({items:t.data.department.items,department:t.data.department.name,loadingItems:!1,cartItems:f()}),console.log(je),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:this.shuffle();case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.department,n=t.items,r=t.loadingItems,l=t.itemDetails;return i.a.createElement(i.a.Fragment,null,i.a.createElement(A,{show:r}),i.a.createElement(x.a,{marginTop:4,display:"flex",justifyContent:"center",alignItems:"start",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}}},i.a.createElement(x.a,{display:"flex",direction:"column",alignItems:"center"},i.a.createElement(x.a,{margin:2},i.a.createElement("div",{style:Ce},a)),i.a.createElement("div",{className:"container p-2 m-2 shadow-lg rounded bg-gray"},i.a.createElement(x.a,{align:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},n.map((function(t){return i.a.createElement(x.a,{paddingY:4,margin:2,width:200,key:t._id},i.a.createElement("div",{onClick:function(){return e.handleDetailsSubmit(t._id)},title:"See Details"},i.a.createElement(be,{itemDetails:l})),i.a.createElement(x.c,{image:i.a.createElement(x.a,{height:80,width:80},i.a.createElement(x.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail}))},i.a.createElement(x.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(x.a,{marginBottom:2},i.a.createElement(x.m,{bold:!0,size:"sm"},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t?e:e.substr(0,t)+"...":" "}(t.name))),i.a.createElement(x.m,{size:"sm"},De(t.description)),i.a.createElement(x.m,{color:"orchid"},"$",t.price),i.a.createElement(x.a,{marginTop:2},i.a.createElement(x.m,{size:"sm"},i.a.createElement(x.b,{size:"sm",onClick:function(){return e.props.addToCart(t)},color:"blue",text:"Add to Cart"}))))))})))))))}}]),a}(i.a.Component),Pe=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={items:[],department:"",cartItems:[],itemDeptId:"",itemsSearched:[],cartItemsLength:0,displayingCart:!1,displayBooks:!0},e.displayingCartItems=function(){e.setState({displayingCart:!1})},e.addToCart=function(t){var a=e.state.cartItems.find((function(e){return e._id===t._id}));console.log("THIS IS ALREADY IN CART",a);var n=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===n){var r=e.state.cartItems.concat(Object(N.a)({},t,{quantity:1}));e.setState({cartItems:r},(function(){return g(r)}))}else{var i=Object(D.a)(e.state.cartItems);i[n].quantity+=1,e.setState({cartItems:i,cartItemsLength:e.state.cartItems.length},(function(){return g(i)}))}},e.deleteItemsFromCart=function(t){var a=e.state.cartItems.filter((function(e){return e._id!==t}));e.setState({cartItems:a,displayingCart:!1},(function(){return g(a)}))},e.changeDeptIdState=function(){e.setState({itemDeptId:e.props.match.params.departmentId})},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setState({displayingCart:!0,cartItems:f()}),this.changeDeptIdState()}},{key:"render",value:function(){var e=this.state,t=e.displayingCart,a=e.itemDeptId,n=e.itemsSearched,r=e.cartItems;return i.a.createElement(i.a.Fragment,null,!0===t?i.a.createElement(Re,{cartItems:r,displayingCartItems:this.displayingCartItems}):[],i.a.createElement("div",null,t?i.a.createElement(Ne,{itemDeptId:a,displayingCartItems:this.displayingCartItems,addToCart:this.addToCart,itemsSearched:n}):i.a.createElement(R,{deleteItemsFromCart:this.deleteItemsFromCart})))}}]),a}(i.a.Component),Re=function(e){var t=e.cartItems,a=e.displayingCartItems;return i.a.createElement(x.a,{display:"flex",direction:"row",marginLeft:10},i.a.createElement(x.d,{span:2},i.a.createElement(x.a,null,i.a.createElement(x.m,{color:"white"}))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"/".concat("5dcf94e2dc3bcd3de0016978")},i.a.createElement("div",null,i.a.createElement("p",null,"Automotive")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9519dc3bcd3de001697b"},i.a.createElement("div",null,i.a.createElement("p",null,"Books")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94a0dc3bcd3de0016975"},i.a.createElement("div",null,i.a.createElement("p",null,"Electronics")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9457dc3bcd3de0016972"},i.a.createElement("div",null,i.a.createElement("p",null,"Fashion")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf8d67dc3bcd3de001696f"},i.a.createElement("div",null,i.a.createElement("p",null,"Home")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9551dc3bcd3de001697e"},i.a.createElement("div",null,i.a.createElement("p",null,"Sports Outdoor")," "))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(x.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0},i.a.createElement(x.b,{size:"sm",onClick:a,color:"blue",text:"View Cart"})),i.a.createElement("p",null," ",h(t)," ",i.a.createElement("i",{className:"fa fa-shopping-cart"}," ")," ")))},Le=Pe,Fe=function(e){Object(_.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={items:[],department:"",cartItems:[],itemDeptId:"",itemsSearched:[],cartItemsLength:0,displayingCart:!1,displayBooks:!0},e.displayingCartItems=function(){e.setState({displayingCart:!1})},e.addToCart=function(t){var a=e.state.cartItems.find((function(e){return e._id===t._id}));console.log("THIS IS ALREADY IN CART",a);var n=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===n){var r=e.state.cartItems.concat(Object(N.a)({},t,{quantity:1}));e.setState({cartItems:r},(function(){return g(r)}))}else{var i=Object(D.a)(e.state.cartItems);i[n].quantity+=1,e.setState({cartItems:i,cartItemsLength:e.state.cartItems.length},(function(){return g(i)}))}},e.deleteItemsFromCart=function(t){var a=e.state.cartItems.filter((function(e){return e._id!==t}));e.setState({cartItems:a,displayingCart:!1},(function(){return g(a)}))},e.changeDeptIdState=function(){e.setState({itemDeptId:e.props.match.params.departmentId})},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.setState({displayingCart:!0,cartItems:f()}),this.changeDeptIdState()}},{key:"render",value:function(){var e=this.state,t=e.displayingCart,a=e.itemDeptId,n=e.itemsSearched,r=e.cartItems;return i.a.createElement(i.a.Fragment,null,!0===t?i.a.createElement(ze,{cartItems:r,displayingCartItems:this.displayingCartItems}):[],i.a.createElement("div",null,t?i.a.createElement(Ne,{itemDeptId:a,displayingCartItems:this.displayingCartItems,addToCart:this.addToCart,itemsSearched:n}):i.a.createElement(R,{deleteItemsFromCart:this.deleteItemsFromCart})))}}]),a}(i.a.Component),ze=function(e){var t=e.cartItems,a=e.displayingCartItems;return i.a.createElement(x.a,{display:"flex",direction:"row",marginLeft:10},i.a.createElement(x.d,{span:2},i.a.createElement(x.a,null,i.a.createElement(x.m,{color:"white"}))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"/".concat("5dcf94e2dc3bcd3de0016978")},i.a.createElement("div",null,i.a.createElement("p",null,"Automotive")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9519dc3bcd3de001697b"},i.a.createElement("div",null,i.a.createElement("p",null,"Books")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94a0dc3bcd3de0016975"},i.a.createElement("div",null,i.a.createElement("p",null,"Electronics")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9457dc3bcd3de0016972"},i.a.createElement("div",null,i.a.createElement("p",null,"Fashion")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf8d67dc3bcd3de001696f"},i.a.createElement("div",null,i.a.createElement("p",null,"Home")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9551dc3bcd3de001697e"},i.a.createElement("div",null,i.a.createElement("p",null,"Sports Outdoor")," "))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(x.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0},i.a.createElement(x.b,{size:"sm",onClick:a,color:"blue",text:"View Cart"})),i.a.createElement("p",null," ",h(t)," ",i.a.createElement("i",{className:"fa fa-shopping-cart"}," ")," ")))},We=Fe,qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Me=function(e){var t=e.component,a=Object(n.a)(e,["component"]);return i.a.createElement(s.a,Object.assign({},a,{render:function(e){return null!==v()?i.a.createElement(t,e):i.a.createElement(o.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},Ue=function(){return i.a.createElement(m.a,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(Q,null),i.a.createElement(d.a,null,i.a.createElement(s.a,{component:Y,exact:!0,path:"/"}),i.a.createElement(s.a,{component:M,exact:!0,path:"/searchresult"}),i.a.createElement(s.a,{component:re,path:"/signin"}),i.a.createElement(s.a,{component:se,path:"/signup"}),i.a.createElement(Me,{component:ge,path:"/checkout"}),i.a.createElement(s.a,{component:Le,path:"/:departmentId"}),i.a.createElement(s.a,{component:We,path:"/5dcf94e2dc3bcd3de0016978"}))))};c.a.render(i.a.createElement(Ue,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");qe?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Be(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Be(e)}))}}()},21:function(e,t,a){},40:function(e,t,a){},54:function(e,t,a){e.exports=a(123)}},[[54,1,2]]]);
//# sourceMappingURL=main.24e7db97.chunk.js.map