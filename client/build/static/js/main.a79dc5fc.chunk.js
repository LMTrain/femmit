(this["webpackJsonpecommerce-react-graphql-stripe"]=this["webpackJsonpecommerce-react-graphql-stripe"]||[]).push([[0],{127:function(e,t){},130:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(12),i=n(56),r=n(2),c=n.n(r),s=n(24),o=n.n(s),d=n(52),l=n(139),j=n(140),h=n(142),m="cart",u="jwt",b=function(e){return"$".concat(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},p=function(e){return Number(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},O=function(e){return Number(e.reduce((function(e,t){return e+t.quantity}),0))},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;localStorage&&localStorage.setItem(t,JSON.stringify(e))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;localStorage&&localStorage.removeItem(e)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;localStorage&&localStorage.setItem(t,JSON.stringify(e))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;localStorage&&localStorage.removeItem(e)},I=(n(61),n(5)),C=n.n(I),_=n(14),w=n(6),T=n(7),k=n(9),D=n(8),E=n(3),N=n(38),A=n(50),R=n(1),F=function(e){return e.show&&Object(R.jsx)(E.a,{position:"fixed",dangerouslySetInlineStyle:{__style:{bottom:300,left:"50%",transform:"translateX(-50%)"}},children:Object(R.jsx)(A.GridLoader,{color:"darkorange",size:25,margin:"3px"})})},L=n(15),P=(n(43),n(22),{fontSize:"24px",fontFamily:"calibri light",fontWeight:"bold",textAlign:"center"}),W=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cartItems:[]},e.addToCart=function(t){var n=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===n){var i=e.state.cartItems.concat(Object(a.a)(Object(a.a)({},t),{},{quantity:1}));e.setState({cartItems:i},(function(){return x(i)}))}else{var r=Object(L.a)(e.state.cartItems);r[n].quantity+=1,e.setState({cartItems:r},(function(){return x(r)}))}},e.countItemToDelete=function(t){var n=e.state.cartItems.findIndex((function(e){return e._id===t}));1!==n?(console.log("THIS IS ALREADY IN CART",n),e.deleteItemsFromCart(t)):(console.log(e.state.cartItems),e.deleteItemsFromCart(t))},e.deleteItemsFromCart=function(t){var n=e.state.cartItems.filter((function(e){return e._id!==t}));console.log("THIS IS ITEM TO DELETE",t),e.setState({cartItems:n},(function(){return x(n)}))},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this,t=this.state.cartItems;return Object(R.jsxs)(c.a.Fragment,{children:[Object(R.jsxs)(E.a,{display:"flex",direction:"row",marginLeft:10,children:[Object(R.jsx)(E.d,{span:2,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(E.m,{color:"white"})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf94e2dc3bcd3de0016978",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Automotive"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9519dc3bcd3de001697b",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Books"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf94a0dc3bcd3de0016975",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Electronics"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9457dc3bcd3de0016972",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Fashion"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf8d67dc3bcd3de001696f",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Home"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9551dc3bcd3de001697e",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Sports Outdoor"})," "]})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsxs)("p",{children:[" ",O(t)," ",Object(R.jsx)("i",{className:"fa fa-shopping-cart",children:" "})," "]})})]}),Object(R.jsx)(E.a,{alignSelf:"end",marginTop:292,marginLeft:8,marginRight:8,padding:4,children:Object(R.jsx)(E.a,{margin:2,children:Object(R.jsx)("div",{style:P,children:"Shopping Cart"})})}),Object(R.jsxs)("div",{className:"card",children:[Object(R.jsx)(E.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",children:Object(R.jsx)(E.a,{margin:2,children:0===t.length&&Object(R.jsx)(E.m,{color:"red",children:"Please select some items"})})}),Object(R.jsxs)(E.a,{display:"flex",direction:"row",column:6,paddingX:2,children:[Object(R.jsx)(E.a,{children:t.map((function(t){return Object(R.jsx)("div",{className:"card-item",children:Object(R.jsxs)(E.a,{display:"flex",direction:"row",marginTop:2,marginLeft:3,paddingLeft:2,paddingRight:2,children:[Object(R.jsx)(E.a,{display:"flex",direction:"row",children:Object(R.jsx)(E.a,{height:120,width:80,children:Object(R.jsx)(E.h,{fit:"cover",alt:"item",naturalHeight:1,naturalWidth:1,src:t.thumbnail})})}),Object(R.jsxs)(E.a,{padding:2,children:[Object(R.jsx)(E.a,{display:"flex",direction:"row",marginBottom:5,children:Object(R.jsx)(E.m,{bold:!0,size:"sl",color:"blue",children:t.name})}),Object(R.jsx)(E.a,{display:"flex",direction:"row",children:Object(R.jsxs)(E.m,{color:"orchid",size:"sm",children:["Unit Price: $",t.price]})}),Object(R.jsx)(E.a,{display:"flex",direction:"row",children:Object(R.jsxs)(E.m,{color:"green",size:"sm",children:["Qty: ",t.quantity]})}),Object(R.jsxs)(E.m,{color:"green",size:"sm",children:["Price: $",(t.quantity*t.price).toFixed(2)]}),Object(R.jsxs)(E.a,{display:"flex",direction:"row",children:[Object(R.jsx)("div",{className:"delete-button",children:Object(R.jsx)("button",{onClick:function(){return e.countItemToDelete(t._id)},children:"Delete"})}),Object(R.jsx)("div",{className:"save-for-later",children:Object(R.jsx)("p",{children:"Save for later"})}),Object(R.jsx)("div",{className:"save-for-later",children:Object(R.jsx)("p",{children:"Compare with similar item"})})]})]})]},t._id)})}))}),Object(R.jsx)(E.a,{column:4,marginLeft:10,marginTop:10,width:150,children:Object(R.jsx)("div",{className:"carttotal",children:Object(R.jsxs)(E.a,{align:"center",display:"flex",direction:"column",width:550,children:[Object(R.jsxs)("div",{className:"carttotal",children:[Object(R.jsxs)(E.m,{bold:!0,color:"black",size:"sm",children:["Subtotal (",O(t)," items )",": "]}),Object(R.jsx)(E.m,{align:"center",bold:!0,size:"md",color:"red",children:b(t)})]}),Object(R.jsx)(E.a,{width:250,children:Object(R.jsx)(E.m,{children:Object(R.jsx)(N.a,{to:"/checkout",children:Object(R.jsx)(E.b,{padding:2,size:"md",width:550,color:"blue",text:"Checkout"})})})})]})})})]})]})]})}}]),n}(c.a.Component),M=W,q=n(17),H=n.n(q),z=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://localhost:1337",B=new H.a(z),U=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchedResult:[],searchTermName:"",searchedResults:[],items:[],displayingCart:!1,cartItems:[]},e.displayingCartItems=function(){e.setState({displayingCart:!0})},e.addToCart=function(t){var n=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===n){var i=e.state.cartItems.concat(Object(a.a)(Object(a.a)({},t),{},{quantity:1}));e.setState({cartItems:i},(function(){return x(i)}))}else{var r=Object(L.a)(e.state.cartItems);r[n].quantity+=1,e.setState({cartItems:r},(function(){return x(r)}))}},e.searchDepartments=Object(_.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(e.state.searchTermName.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:n=t.sent,e.setState({searchedResults:n.data.items,cartItems:g()}),console.log(e.state.searchedResults);case 5:case"end":return t.stop()}}),t)}))),e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.setState({searchTermName:this.props.searchTerm}),console.log("THIS IS SEARCHED ITEMS NAME",this.state.searchTermName),this.searchDepartments()}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchedResults,a=t.cartItems,i=t.displayingCart,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t?e:e.substr(0,t)+"...":" "},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return e?e.length<=t?e:e.substr(0,t)+"...":" "};return Object(R.jsxs)(R.Fragment,{children:[!1===i?Object(R.jsx)(K,{cartItems:a,displayingCartItems:this.displayingCartItems}):[],Object(R.jsx)("div",{children:!0===i?Object(R.jsx)(M,{}):[]}),Object(R.jsx)("div",{className:"card",children:Object(R.jsx)(E.a,{align:"center",children:Object(R.jsx)(E.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around",children:n.map((function(t){return Object(R.jsx)(E.a,{paddingY:4,margin:2,width:200,children:Object(R.jsx)(E.c,{image:Object(R.jsx)(E.a,{height:80,width:80,children:Object(R.jsx)(E.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail})}),children:Object(R.jsxs)(E.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",children:[Object(R.jsx)(E.a,{marginBottom:2,children:Object(R.jsx)(E.m,{bold:!0,size:"sm",children:r(t.name)})}),Object(R.jsx)(E.m,{size:"sm",children:c(t.description)}),Object(R.jsxs)(E.m,{color:"orchid",children:["$",t.price]}),Object(R.jsx)(E.a,{marginTop:2,children:Object(R.jsx)(E.m,{size:"sm",children:Object(R.jsx)(E.b,{size:"sm",onClick:function(){return e.addToCart(t)},color:"blue",text:"Add to Cart"})})})]})})},t._id)}))})})})]})}}]),n}(r.Component),K=function(e){var t=e.cartItems,n=e.displayingCartItems;return Object(R.jsxs)(E.a,{display:"flex",direction:"row",marginLeft:10,children:[Object(R.jsx)(E.d,{span:2,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(E.m,{color:"white"})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf94e2dc3bcd3de0016978",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Automotive"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9519dc3bcd3de001697b",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Books"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf94a0dc3bcd3de0016975",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Electronics"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9457dc3bcd3de0016972",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Fashion"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf8d67dc3bcd3de001696f",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Home"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9551dc3bcd3de001697e",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Sports Outdoor"})," "]})})}),Object(R.jsxs)("div",{className:"lineitems",children:[Object(R.jsx)(E.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0,children:Object(R.jsx)(E.b,{size:"sm",onClick:n,color:"blue",text:"View Cart"})}),Object(R.jsxs)("p",{children:[t.length,Object(R.jsx)("i",{className:"fa fa-shopping-cart",children:" "})," "]})]})]})},Y=U,V=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://localhost:1337",$=new H.a(V),G={fontSize:"30px",fontFamily:"calibri light"},J=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={departments:[],department:[],departmentId:[],cartItems:[],items:[],searchedItems:[],searchTerm:"",loadingDepartments:!0,redirect:!1,searchTermState:!1},e.renderRedirect=function(){if(e.state.redirect)return Object(R.jsx)(l.a,{to:"/SearchResult"})},e.handleChange=function(t){var n=t.value;e.setState({searchTerm:n},(function(){return e.searchDepartments()}))},e.searchDepartments=Object(_.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(e.state.searchTerm.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:n=t.sent,e.setState({searchedItems:n.data.items,loadingDepartments:!1,redirect:!0,searchTermState:!0});case 4:case"end":return t.stop()}}),t)}))),e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var e=Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.request("POST","/graphql",{data:{query:"query {\n           departments {\n              _id\n              name\n              description\n              image {\n                url\n              }\n            }\n          }"}});case 3:t=e.sent,this.setState({departments:t.data.departments,loadingDepartments:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),this.setState({loadingDepartments:!1});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchTerm,n=e.searchTermState,a=e.loadingDepartments,i=e.departments,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t?e:e.substr(0,t)+"...":" "},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return e?e.length<=t?e:e.substr(0,t)+"...":" "};return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(E.e,{children:[Object(R.jsxs)(E.a,{display:"flex",justifyContent:"center",marginTop:4,children:[Object(R.jsx)(E.k,{id:"searchField",accessibilityLabel:"Departments Search Field",onChange:this.handleChange,value:t,placeholder:"Search Departments"}),Object(R.jsx)(E.a,{margin:3,children:Object(R.jsx)(E.g,{icon:"filter",color:t?"orange":"gray",size:20,accessibilityLabel:"Filter"})})]}),Object(R.jsx)(E.a,{display:"flex",justifyContent:"center",marginBottom:2,children:Object(R.jsx)("div",{style:G,color:"black",children:"Shop by Departments"})}),Object(R.jsx)(E.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around",children:i.map((function(e){return Object(R.jsx)(E.a,{paddingY:4,margin:2,width:200,children:Object(R.jsx)(E.c,{image:Object(R.jsx)(E.a,{height:200,width:200,children:Object(R.jsx)(N.a,{to:"/".concat(e._id),children:Object(R.jsx)(E.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:"".concat(V).concat(e.image.url)})})}),children:Object(R.jsxs)(E.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",children:[Object(R.jsxs)(E.m,{bold:!0,size:"sm",children:[" ",r(e.name)]}),Object(R.jsxs)(E.m,{size:"sm",children:[c(e.description)," "]})]})})},e._id)}))}),Object(R.jsx)(F,{show:a}),Object(R.jsxs)("div",{children:[n?Object(R.jsx)(Y,{searchTerm:t}):null===this.state.searchTerm&&Object(R.jsx)(Y,{searchTerm:this.state.searchTerm}),this.renderRedirect()]})]})})}}]),n}(r.Component),X=J,Q=n(138),Z=n(141),ee=(n(130),function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={cartItems:[]},e.handleSignout=function(){S(),f(),e.props.history.push("/")},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props),this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this.state.cartItems;return null!==v()?Object(R.jsx)(te,{handleSignout:this.handleSignout,cartItems:e}):Object(R.jsx)(ne,{})}}]),n}(c.a.Component)),te=function(e){var t=e.handleSignout,n=e.cartItems;return Object(R.jsxs)(E.a,{display:"flex",alignItems:"center",justifyContent:"around",height:50,color:"blue",padding:1,borderRadius:32,children:[Object(R.jsx)(Q.a,{activeClassName:"active",exact:!0,to:"/",children:Object(R.jsx)(E.a,{display:"flex",alignItems:"center",children:Object(R.jsx)(E.a,{marginTop:12,margin:2,height:90,width:180,children:Object(R.jsx)(E.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo-in.png"})})})}),Object(R.jsx)("div",{className:"signout-spacing",children:Object(R.jsx)(E.b,{onClick:t,color:"transparent",text:"Sign Out",inline:!0,size:"md"})}),Object(R.jsx)(Q.a,{activeClassName:"active",to:"/checkout",children:Object(R.jsx)("div",{className:"checkout-spacing",children:Object(R.jsxs)("p",{children:[O(n),Object(R.jsxs)("i",{className:"fa fa-shopping-cart",children:[" "," Checkout "]})," "]})})})]})},ne=function(){return Object(R.jsxs)(E.a,{display:"flex",alignItems:"center",justifyContent:"around",height:60,color:"gray",padding:1,shape:"roundedBottom",children:[Object(R.jsx)(Q.a,{activeClassName:"active",exact:!0,to:"/",children:Object(R.jsx)(E.a,{display:"flex",alignItems:"center",children:Object(R.jsx)(E.a,{marginTop:12,margin:2,height:90,width:180,children:Object(R.jsx)(E.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo.png"})})})}),Object(R.jsx)(Q.a,{activeClassName:"active",to:"/signin",children:Object(R.jsx)("div",{className:"signin-spacing",children:Object(R.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true",title:"Sign In"})})}),Object(R.jsx)(Q.a,{activeClassName:"active",to:"/signup",children:Object(R.jsx)("div",{className:"signup-spacing",children:Object(R.jsx)("span",{children:"Get Started"})})})]})},ae=Object(Z.a)(ee),ie=n(19),re=function(e){var t=e.show,n=e.message;return t&&Object(R.jsx)(E.a,{dangerouslySetInlineStyle:{__style:{bottom:330,left:"50%",transform:"translatex(-50%)"}},position:"fixed",children:Object(R.jsx)(E.o,{color:"orange",text:n})})},ce=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://localhost:1337",se=new H.a(ce),oe={fontSize:"22px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},de=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={username:"",password:"",toast:!1,toastMessage:"",loading:!1},e.handleChange=function(t){var n=t.event,a=t.value;n.persist(),e.setState(Object(ie.a)({},n.target.name,a))},e.handleSubmit=function(){var t=Object(_.a)(C.a.mark((function t(n){var a,i,r,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,i=a.username,r=a.password,!e.isFormEmpty(e.state)){t.next=5;break}return e.showToast("Fill in all fields"),t.abrupt("return");case 5:return t.prev=5,e.setState({loading:!0}),t.next=9,se.login(i,r);case 9:c=t.sent,e.setState({loading:!1}),y(c.jwt),e.redirectUser("/"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),e.setState({loading:!1}),e.showToast(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.redirectUser=function(t){return e.props.history.push(t)},e.isFormEmpty=function(e){var t=e.username,n=e.password;return!t||!n},e.showToast=function(t){e.setState({toast:!0,toastMessage:t}),setTimeout((function(){return e.setState({toast:!1,toastMessage:""})}),5e3)},e}return Object(T.a)(n,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,n=e.toast,a=e.loading;return Object(R.jsxs)(E.e,{children:[Object(R.jsx)(E.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550,children:Object(R.jsxs)("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450,height:210},onSubmit:this.handleSubmit,children:[Object(R.jsx)(E.a,{marginBottom:2,marginTop:-3,display:"flex",direction:"column",alignItems:"center",children:Object(R.jsx)("div",{style:oe,color:"black",children:"Sign In"})}),Object(R.jsx)(E.a,{marginBottom:2,children:Object(R.jsx)(E.n,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange})}),Object(R.jsx)(E.n,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange}),Object(R.jsx)(E.a,{margiginTop:5,paddingY:2,children:Object(R.jsx)(E.b,{inline:!0,disabled:a,color:"blue",text:"Submit",type:"submit"})})]})}),Object(R.jsx)(re,{show:n,message:t})]})}}]),n}(c.a.Component),le=de,je=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://localhost:1337",he=new H.a(je),me={fontSize:"30px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},ue=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={username:"",email:"",password:"",toast:!1,toastMessage:"",loading:!1},e.handleChange=function(t){var n=t.event,a=t.value;n.persist(),e.setState(Object(ie.a)({},n.target.name,a))},e.handleSubmit=function(){var t=Object(_.a)(C.a.mark((function t(n){var a,i,r,c,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=e.state,i=a.username,r=a.email,c=a.password,!e.isFormEmpty(e.state)){t.next=5;break}return e.showToast("Fill in all fields"),t.abrupt("return");case 5:return t.prev=5,e.setState({loading:!0}),t.next=9,he.register(i,r,c);case 9:s=t.sent,e.setState({loading:!1}),y(s.jwt),e.redirectUser("/"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),e.setState({loading:!1}),e.showToast(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e){return t.apply(this,arguments)}}(),e.redirectUser=function(t){return e.props.history.push(t)},e.isFormEmpty=function(e){var t=e.username,n=e.email,a=e.password;return!t||!n||!a},e.showToast=function(t){e.setState({toast:!0,toastMessage:t}),setTimeout((function(){return e.setState({toast:!1,toastMessage:""})}),5e3)},e}return Object(T.a)(n,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,n=e.toast,a=e.loading;return Object(R.jsxs)(E.e,{children:[Object(R.jsx)(E.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550,children:Object(R.jsxs)("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleSubmit,children:[Object(R.jsxs)(E.a,{marginBottom:2,display:"flex",direction:"column",alignItems:"center",children:[Object(R.jsx)("div",{style:me,color:"black",children:"Let's Get Started"}),Object(R.jsx)(E.m,{italic:!0,color:"orchid",children:"Sign up to place your order!"})]}),Object(R.jsx)(E.n,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),Object(R.jsx)(E.n,{id:"email",type:"email",name:"email",placeholder:"Email Address",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),Object(R.jsx)(E.n,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),Object(R.jsx)(E.b,{inline:!0,disabled:a,color:"blue",text:"Submit",type:"submit",className:"bg-orange m-1 p-1 rounded"})]})}),Object(R.jsx)(re,{show:n,message:t})]})}}]),n}(c.a.Component),be=ue,pe=n(26),Oe=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://localhost:1337",xe=new H.a(Oe),ge=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={cartItems:[],address:"",postalCode:"",city:"",confirmationEmailAddress:"",toast:!1,toastMessage:"",orderProcessing:!1,modal:!1},e.handleChange=function(t){var n=t.event,a=t.value;n.persist(),e.setState(Object(ie.a)({},n.target.name,a))},e.handleConfirmOrder=function(){var t=Object(_.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!e.isFormEmpty(e.state)){t.next=4;break}return e.showToast("Fill in all fields"),t.abrupt("return");case 4:e.setState({modal:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmitOrder=Object(_.a)(C.a.mark((function t(){var n,a,i,r,c,s,o,d,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.cartItems,i=n.city,r=n.address,c=n.postalCode,s=n.confirmationEmailAddress,o=p(a),e.setState({orderProcessing:!0}),t.prev=3,t.next=6,e.props.stripe.createToken();case 6:return l=t.sent,d=l.token.id,t.next=10,xe.createEntry("orders",{amount:o,items:a,city:i,postalCode:c,address:r,token:d});case 10:return t.next=12,xe.request("POST","/email",{data:{to:s,subject:"Order Confirmation - FeMMit ".concat(new Date(Date.now())),text:"Your order has been processed",html:"<bold>Expect your order to arrive in 2-3 shipping days</bold>"}});case 12:e.setState({orderProcessing:!1,modal:!1}),f(),e.showToast("Your order has been successfully submitted!",!0),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(3),e.setState({orderProcessing:!1,modal:!1}),e.showToast(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[3,17]])}))),e.isFormEmpty=function(e){var t=e.address,n=e.postalCode,a=e.city,i=e.confirmationEmailAddress;return!t||!n||!a||!i},e.showToast=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({toast:!0,toastMessage:t}),setTimeout((function(){return e.setState({toast:!1,toastMessage:""},(function(){return n&&e.props.history.push("/")}))}),5e3)},e.closeModal=function(){return e.setState({modal:!1})},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this.state,t=e.toast,n=e.toastMessage,a=e.cartItems,i=e.modal,r=e.orderProcessing;return Object(R.jsxs)(E.e,{children:[Object(R.jsxs)(E.a,{color:"darkWash",margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",alignItems:"center",direction:"column",children:[Object(R.jsx)(E.f,{color:"midnight",children:"Checkout"}),a.length>0?Object(R.jsxs)(c.a.Fragment,{children:[Object(R.jsxs)(E.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",marginTop:2,marginBottom:6,children:[Object(R.jsxs)(E.m,{color:"darkGray",italic:!0,children:[a.length," items for Checkout"]}),Object(R.jsx)(E.a,{padding:2,children:a.map((function(e){return Object(R.jsx)(E.a,{padding:1,children:Object(R.jsxs)(E.m,{color:"midnight",children:[e.name," x ",e.quantity," - $",e.quantity*e.price]})},e._id)}))}),Object(R.jsxs)(E.m,{bold:!0,children:["Total Amount: ",b(a)]})]}),Object(R.jsxs)("form",{style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleConfirmOrder,children:[Object(R.jsx)(E.n,{id:"address",type:"text",name:"address",placeholder:"Shipping Address",onChange:this.handleChange}),Object(R.jsx)(E.n,{id:"postalCode",type:"text",name:"postalCode",placeholder:"Postal Code",onChange:this.handleChange}),Object(R.jsx)(E.n,{id:"city",type:"text",name:"city",placeholder:"City of Residence",onChange:this.handleChange}),Object(R.jsx)(E.n,{id:"confirmationEmailAddress",type:"email",name:"confirmationEmailAddress",placeholder:"Confirmation Email Address",onChange:this.handleChange}),Object(R.jsx)(pe.CardElement,{id:"stripe__input",onReady:function(e){return e.focus()}}),Object(R.jsx)("button",{id:"stripe__button",type:"submit",children:"Submit"})]})]}):Object(R.jsxs)(E.a,{color:"darkWash",shape:"rounded",padding:4,children:[Object(R.jsx)(E.f,{align:"center",color:"watermelon",size:"xs",children:"Your Cart is Empty"}),Object(R.jsx)(E.m,{align:"center",italic:!0,color:"green",children:"Add some items!"})]})]}),i&&Object(R.jsx)(fe,{orderProcessing:r,cartItems:a,closeModal:this.closeModal,handleSubmitOrder:this.handleSubmitOrder}),Object(R.jsx)(re,{show:t,message:n})]})}}]),n}(c.a.Component),fe=function(e){var t=e.orderProcessing,n=e.cartItems,a=e.closeModal,i=e.handleSubmitOrder;return Object(R.jsxs)(E.j,{accessibilityCloseLabel:"close",accessibilityModalLabel:"Confirm Your Order",heading:"Confirm Your Order",onDismiss:a,footer:Object(R.jsxs)(E.a,{display:"flex",marginRight:-1,marginLeft:-1,justifyContent:"center",children:[Object(R.jsx)(E.a,{padding:1,children:Object(R.jsx)(E.b,{size:"lg",color:"red",text:"Submit",disabled:t,onClick:i})}),Object(R.jsx)(E.a,{padding:1,children:Object(R.jsx)(E.b,{size:"lg",text:"Cancel",disabled:t,onClick:a})})]}),role:"alertdialog",size:"sm",children:[!t&&Object(R.jsxs)(E.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",padding:2,color:"lightWash",children:[n.map((function(e){return Object(R.jsx)(E.a,{padding:1,children:Object(R.jsxs)(E.m,{size:"lg",color:"red",children:[e.name," x ",e.quantity," - $",e.quantity*e.price]})},e._id)})),Object(R.jsx)(E.a,{paddingY:2,children:Object(R.jsxs)(E.m,{size:"lg",bold:!0,children:["Total: ",b(n)]})})]}),Object(R.jsx)(E.l,{show:t,accessibilityLabel:"Order Processing Spinner"}),t&&Object(R.jsx)(E.m,{align:"center",italic:!0,children:"Submitting Order..."})]})},ve=Object(Z.a)(Object(pe.injectStripe)(ge)),ye=function(){return Object(R.jsx)(pe.StripeProvider,{apiKey:"pk_test_x8yjxMCIGG0GwegNJCzILYWy00qrvPKmKA",children:Object(R.jsx)(pe.Elements,{children:Object(R.jsx)(ve,{})})})},Se=n(29),Ie=n.n(Se),Ce=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASEURL,_e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY,we=function(e){return Ie.a.get(Ce+e+_e)},Te=n(55);var ke=function(e){var t=c.a.useState(!1),n=Object(Te.a)(t,2),a=n[0],i=n[1];return Object(R.jsx)(E.a,{marginLeft:-1,marginRight:-1,children:Object(R.jsxs)(E.a,{padding:1,children:[Object(R.jsx)(E.b,{text:"Details",onClick:function(){i(!a)}}),a&&Object(R.jsx)(E.i,{children:Object(R.jsx)(E.j,{accessibilityModalLabel:"Item Details",heading:"Details",onDismiss:function(){i(!a)},footer:Object(R.jsx)(E.a,{display:"flex",marginLeft:-1,marginRight:-1,justifyContent:"center",children:Object(R.jsx)(E.a,{padding:1,children:Object(R.jsx)(E.b,{size:"sm",text:"Close",onClick:function(){i(!a)}})})}),size:"md",children:Object(R.jsx)(E.a,{paddingX:8,children:e.itemDetails.map((function(e){return Object(R.jsxs)("div",{children:[Object(R.jsx)("img",{alt:e.name,width:"300",height:"320",className:"img-fluid",src:e.thumbnail}),Object(R.jsx)("span",{}),Object(R.jsx)("br",{}),Object(R.jsx)("p",{children:Object(R.jsx)("b",{children:e.name})}),Object(R.jsx)("br",{}),Object(R.jsxs)("p",{children:[Object(R.jsx)("b",{children:"Price :"})," "," $",e.price]}),Object(R.jsx)("br",{}),Object(R.jsxs)("p",{children:[Object(R.jsx)("b",{children:"Description :"})," ",e.description]})]},e._id)}))})})})]})})},De=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://localhost:1337",Ee=new H.a(De),Ne={fontSize:"24px",fontFamily:"calibri light",fontWeight:"bold"},Ae=[],Re=[],Fe="",Le="",Pe=[],We=[],Me=[],qe=["Wars of Law","Among the Valiant","Religion","The Fall of Western Civilization","Destruction of Black Civilization","Sex in Antiquity","Wars","food","School","Country","Music","Friends","Family","Baby","Politics"],He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t?e:e.substr(0,t)+"...":" "},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;return e?e.length<=t?e:e.substr(0,t)+"...":" "},Be=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={items:[],department:"",departmentId:"",cartItems:[],search:"",books:[],itemDetails:[],displayingCart:!1,loadingItems:!0},e.bookDeptId=function(){var t=qe[Math.floor(Math.random()*qe.length)];e.searchForBooks(t)},e.searchForBooks=function(t){we(t).then((function(t){t.data.error?console.log(t.data.error):(Ae=t.data.items,e.displayBooks())})).catch((function(e){return console.log(e)}))},e.displayBooks=function(){e.setState({books:Ae,department:"Books"});for(var t=0;t<Ae.length;t++){var n=String(Ae[t].etag),a=String(Ae[t].volumeInfo.title),i=String(Ae[t].volumeInfo.description),r=String(Ae[t].volumeInfo.authors),c=String(Ae[t].volumeInfo.publishedDate);Le=null==Ae[t].volumeInfo.imageLinks?"https://lmtrain.github.io/lm-images/assets/images/books5.jpg":String(Ae[t].volumeInfo.imageLinks.thumbnail),Fe="NOT_FOR_SALE"===Ae[t].saleInfo.saleability?Number(0):String(Ae[t].saleInfo.retailPrice.amount);i=ze(i)+"\n || Author : "+r+"\n || Pulished Date : "+c,Re.push({_id:n,name:a,description:i,thumbnail:Le,price:Fe})}e.setState({items:Re,loadingItems:!1,cartItems:g()})},e.shuffle=function(){for(var t=Object(L.a)(e.state.items),n=[],a=0;a<e.state.items.length;a++)We=t.splice(Math.floor(Math.random()*t.length/2)),n=[].concat(Object(L.a)(n),Object(L.a)(We));Pe.push(e.state.items),e.setState({items:n})},e.addToCart=function(t){var n=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===n){var i=e.state.cartItems.concat(Object(a.a)(Object(a.a)({},t),{},{quantity:1}));e.setState({cartItems:i},(function(){return x(i)})),console.log(e.state.cartItems)}else{var r=Object(L.a)(e.state.cartItems);r[n].quantity+=1,e.setState({cartItems:r},(function(){return x(r)})),console.log(e.state.cartItems)}},e.deleteItemsFromCart=function(t){var n=e.state.cartItems.filter((function(e){return e._id!==t}));e.setState({cartItems:n},(function(){return x(n)}))},e.handleDetailsSubmit=function(t){var n=Me.find((function(e){return e._id===t}));e.setState({itemDetails:[n]})},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){var e=Object(_.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("5dcf9519dc3bcd3de001697b"!==this.props.itemDeptId){e.next=4;break}this.bookDeptId(),e.next=16;break;case 4:return e.prev=4,e.next=7,Ee.request("POST","/graphql",{data:{query:'query {\n                    department(id: "'.concat(this.props.itemDeptId,'") {\n                      _id\n                      name\n                      items {\n                        _id\n                        name\n                        description\n                        thumbnail                       \n                        price\n                      }    \n                    }\n                }')}});case 7:t=e.sent,Me=t.data.department.items,this.setState({items:t.data.department.items,department:t.data.department.name,loadingItems:!1,cartItems:g()}),console.log(Me),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:this.shuffle();case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.department,a=t.items,i=t.loadingItems,r=t.itemDetails;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(F,{show:i}),Object(R.jsx)(E.a,{marginTop:4,display:"flex",justifyContent:"center",alignItems:"start",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},children:Object(R.jsxs)(E.a,{display:"flex",direction:"column",alignItems:"center",children:[Object(R.jsx)(E.a,{margin:2,children:Object(R.jsx)("div",{style:Ne,children:n})}),Object(R.jsx)("div",{className:"container p-2 m-2 shadow-lg rounded bg-gray",children:Object(R.jsx)(E.a,{align:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around",children:a.map((function(t){return Object(R.jsxs)(E.a,{paddingY:4,margin:2,width:200,children:[Object(R.jsx)("div",{onClick:function(){return e.handleDetailsSubmit(t._id)},title:"See Details",children:Object(R.jsx)(ke,{itemDetails:r})}),Object(R.jsx)(E.c,{image:Object(R.jsx)(E.a,{height:80,width:80,children:Object(R.jsx)(E.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail})}),children:Object(R.jsxs)(E.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",children:[Object(R.jsx)(E.a,{marginBottom:2,children:Object(R.jsx)(E.m,{bold:!0,size:"sm",children:He(t.name)})}),Object(R.jsx)(E.m,{size:"sm",children:ze(t.description)}),Object(R.jsxs)(E.m,{color:"orchid",children:["$",t.price]}),Object(R.jsx)(E.a,{marginTop:2,children:Object(R.jsx)(E.m,{size:"sm",children:Object(R.jsx)(E.b,{size:"sm",onClick:function(){return e.props.addToCart(t)},color:"blue",text:"Add to Cart"})})})]})})]},t._id)}))})})]})})]})}}]),n}(c.a.Component),Ue=Be,Ke=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={items:[],department:"",cartItems:[],itemDeptId:"",itemsSearched:[],cartItemsLength:0,displayingCart:!1,displayBooks:!0},e.displayingCartItems=function(){e.setState({displayingCart:!1})},e.addToCart=function(t){var n=e.state.cartItems.find((function(e){return e._id===t._id}));console.log("THIS IS ALREADY IN CART",n);var i=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===i){var r=e.state.cartItems.concat(Object(a.a)(Object(a.a)({},t),{},{quantity:1}));e.setState({cartItems:r},(function(){return x(r)}))}else{var c=Object(L.a)(e.state.cartItems);c[i].quantity+=1,e.setState({cartItems:c,cartItemsLength:e.state.cartItems.length},(function(){return x(c)}))}},e.deleteItemsFromCart=function(t){var n=e.state.cartItems.filter((function(e){return e._id!==t}));e.setState({cartItems:n,displayingCart:!1},(function(){return x(n)}))},e.changeDeptIdState=function(){e.setState({itemDeptId:e.props.match.params.departmentId})},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.setState({displayingCart:!0,cartItems:g()}),this.changeDeptIdState()}},{key:"render",value:function(){var e=this.state,t=e.displayingCart,n=e.itemDeptId,a=e.itemsSearched,i=e.cartItems;return Object(R.jsxs)(R.Fragment,{children:[!0===t?Object(R.jsx)(Ye,{cartItems:i,displayingCartItems:this.displayingCartItems}):[],Object(R.jsx)("div",{children:t?Object(R.jsx)(Ue,{itemDeptId:n,displayingCartItems:this.displayingCartItems,addToCart:this.addToCart,itemsSearched:a}):Object(R.jsx)(M,{deleteItemsFromCart:this.deleteItemsFromCart})})]})}}]),n}(c.a.Component),Ye=function(e){var t=e.cartItems,n=e.displayingCartItems;return Object(R.jsxs)(E.a,{display:"flex",direction:"row",marginLeft:10,children:[Object(R.jsx)(E.d,{span:2,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(E.m,{color:"white"})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"/".concat("5dcf94e2dc3bcd3de0016978"),children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Automotive"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9519dc3bcd3de001697b",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Books"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf94a0dc3bcd3de0016975",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Electronics"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9457dc3bcd3de0016972",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Fashion"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf8d67dc3bcd3de001696f",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Home"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9551dc3bcd3de001697e",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Sports Outdoor"})," "]})})}),Object(R.jsxs)("div",{className:"lineitems",children:[Object(R.jsx)(E.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0,children:Object(R.jsx)(E.b,{size:"sm",onClick:n,color:"blue",text:"View Cart"})}),Object(R.jsxs)("p",{children:[" ",O(t)," ",Object(R.jsx)("i",{className:"fa fa-shopping-cart",children:" "})," "]})]})]})},Ve=Ke,$e=function(e){Object(k.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={items:[],department:"",cartItems:[],itemDeptId:"",itemsSearched:[],cartItemsLength:0,displayingCart:!1,displayBooks:!0},e.displayingCartItems=function(){e.setState({displayingCart:!1})},e.addToCart=function(t){var n=e.state.cartItems.find((function(e){return e._id===t._id}));console.log("THIS IS ALREADY IN CART",n);var i=e.state.cartItems.findIndex((function(e){return e._id===t._id}));if(-1===i){var r=e.state.cartItems.concat(Object(a.a)(Object(a.a)({},t),{},{quantity:1}));e.setState({cartItems:r},(function(){return x(r)}))}else{var c=Object(L.a)(e.state.cartItems);c[i].quantity+=1,e.setState({cartItems:c,cartItemsLength:e.state.cartItems.length},(function(){return x(c)}))}},e.deleteItemsFromCart=function(t){var n=e.state.cartItems.filter((function(e){return e._id!==t}));e.setState({cartItems:n,displayingCart:!1},(function(){return x(n)}))},e.changeDeptIdState=function(){e.setState({itemDeptId:e.props.match.params.departmentId})},e}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.setState({displayingCart:!0,cartItems:g()}),this.changeDeptIdState()}},{key:"render",value:function(){var e=this.state,t=e.displayingCart,n=e.itemDeptId,a=e.itemsSearched,i=e.cartItems;return Object(R.jsxs)(R.Fragment,{children:[!0===t?Object(R.jsx)(Ge,{cartItems:i,displayingCartItems:this.displayingCartItems}):[],Object(R.jsx)("div",{children:t?Object(R.jsx)(Ue,{itemDeptId:n,displayingCartItems:this.displayingCartItems,addToCart:this.addToCart,itemsSearched:a}):Object(R.jsx)(M,{deleteItemsFromCart:this.deleteItemsFromCart})})]})}}]),n}(c.a.Component),Ge=function(e){var t=e.cartItems,n=e.displayingCartItems;return Object(R.jsxs)(E.a,{display:"flex",direction:"row",marginLeft:10,children:[Object(R.jsx)(E.d,{span:2,children:Object(R.jsx)(E.a,{children:Object(R.jsx)(E.m,{color:"white"})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"/".concat("5dcf94e2dc3bcd3de0016978"),children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Automotive"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9519dc3bcd3de001697b",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Books"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf94a0dc3bcd3de0016975",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Electronics"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9457dc3bcd3de0016972",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Fashion"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf8d67dc3bcd3de001696f",children:Object(R.jsx)("div",{children:Object(R.jsx)("p",{children:"Home"})})})}),Object(R.jsx)("div",{className:"lineitems",children:Object(R.jsx)(N.a,{to:"5dcf9551dc3bcd3de001697e",children:Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"Sports Outdoor"})," "]})})}),Object(R.jsxs)("div",{className:"lineitems",children:[Object(R.jsx)(E.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0,children:Object(R.jsx)(E.b,{size:"sm",onClick:n,color:"blue",text:"View Cart"})}),Object(R.jsxs)("p",{children:[" ",O(t)," ",Object(R.jsx)("i",{className:"fa fa-shopping-cart",children:" "})," "]})]})]})},Je=$e,Xe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ze=["component"],et=function(e){var t=e.component,n=Object(i.a)(e,Ze);return Object(R.jsx)(d.a,Object(a.a)(Object(a.a)({},n),{},{render:function(e){return null!==v()?Object(R.jsx)(t,Object(a.a)({},e)):Object(R.jsx)(l.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},tt=function(){return Object(R.jsx)(j.a,{children:Object(R.jsxs)(c.a.Fragment,{children:[Object(R.jsx)(ae,{}),Object(R.jsxs)(h.a,{children:[Object(R.jsx)(d.a,{component:X,exact:!0,path:"/"}),Object(R.jsx)(d.a,{component:Y,exact:!0,path:"/searchresult"}),Object(R.jsx)(d.a,{component:le,path:"/signin"}),Object(R.jsx)(d.a,{component:be,path:"/signup"}),Object(R.jsx)(et,{component:ye,path:"/checkout"}),Object(R.jsx)(d.a,{component:Ve,path:"/:departmentId"}),Object(R.jsx)(d.a,{component:Je,path:"/5dcf94e2dc3bcd3de0016978"})]})]})})};o.a.render(Object(R.jsx)(tt,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Xe?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Qe(e)}))}}()},22:function(e,t,n){},43:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.a79dc5fc.chunk.js.map