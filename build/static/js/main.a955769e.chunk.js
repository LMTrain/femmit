(this["webpackJsonpecommerce-react-graphql-stripe"]=this["webpackJsonpecommerce-react-graphql-stripe"]||[]).push([[0],{115:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a(1),o=a.n(r),i=a(23),c=a.n(i),s=a(48),l=a(124),m=a(125),d=a(127),u=function(e){return"$".concat(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},p=function(e){return Number(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart";localStorage&&localStorage.setItem(t,JSON.stringify(e))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart";return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart";localStorage&&localStorage.removeItem(e)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwt";return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jwt";localStorage&&localStorage.setItem(t,JSON.stringify(e))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwt";localStorage&&localStorage.removeItem(e)},v=(a(57),a(4)),S=a.n(v),C=a(13),w=a(7),O=a(8),I=a(10),_=a(9),x=a(11),k=a(2),T=a(34),j=a(46),A=function(e){return e.show&&o.a.createElement(k.a,{position:"fixed",dangerouslySetInlineStyle:{__style:{bottom:300,left:"50%",transform:"translateX(-50%)"}}},o.a.createElement(j.GridLoader,{color:"darkorange",size:25,margin:"3px"}))},P=a(17),D=a(21),N=(a(39),a(15)),R=a.n(N),W=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",L=new R.a(W),F=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={searchedResult:[],searchTermName:"",items:[],cartItems:[]},a.addToCart=function(e){var t=a.state.cartItems.findIndex((function(t){return t._id===e._id}));if(-1===t){var n=a.state.cartItems.concat(Object(D.a)({},e,{quantity:1}));a.setState({cartItems:n},(function(){return h(n)}))}else{var r=Object(P.a)(a.state.cartItems);r[t].quantity+=1,a.setState({cartItems:r},(function(){return h(r)}))}},a.searchDepartments=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(a.state.searchTermName.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:t=e.sent,a.setState({searchedResult:t.data.items,cartItems:g()}),console.log(a.state.searchedResult);case 5:case"end":return e.stop()}}),e)}))),a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.setState({searchTermName:this.props.searchTerm}),console.log("THIS IS SEARCHED ITEMS NAME",this.state.searchTermName),this.searchDepartments()}},{key:"render",value:function(){var e=this,t=this.state.searchedResult;return o.a.createElement(k.a,{align:"center"},o.a.createElement(k.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},t.map((function(t){return o.a.createElement(k.a,{paddingY:4,margin:2,width:200,key:t._id},o.a.createElement(k.c,{image:o.a.createElement(k.a,{height:200,width:200},o.a.createElement(T.a,{to:"/".concat(t._id)},o.a.createElement(k.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail})))},o.a.createElement(k.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},o.a.createElement(k.a,{marginBottom:2},o.a.createElement(k.m,{bold:!0,size:"md"},t.name)),o.a.createElement(k.m,null,t.description),o.a.createElement(k.m,{color:"orchid"},"$",t.price),o.a.createElement(k.a,{marginTop:2},o.a.createElement(k.m,{bold:!0,size:"xl"},o.a.createElement(k.b,{onClick:function(){return e.addToCart(t)},color:"blue",text:"Add to Cart"}))))))}))))}}]),t}(r.Component),q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",B=new R.a(q),z={fontSize:"30px",fontFamily:"calibri light"},U=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={departments:[],department:[],departmentId:[],cartItems:[],items:[],searchedItems:[],searchTerm:"",loadingDepartments:!0,redirect:!1,searchTermState:!1},a.renderRedirect=function(){if(a.state.redirect)return o.a.createElement(l.a,{to:"/SearchResult"})},a.handleChange=function(e){var t=e.value;a.setState({searchTerm:t},(function(){return a.searchDepartments()}))},a.searchDepartments=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(a.state.searchTerm.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:t=e.sent,a.setState({searchedItems:t.data.items,loadingDepartments:!1,redirect:!0,searchTermState:!0});case 4:case"end":return e.stop()}}),e)}))),a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.request("POST","/graphql",{data:{query:"query {\n           departments {\n              _id\n              name\n              description\n              image {\n                url\n              }\n            }\n          }"}});case 3:t=e.sent,this.setState({departments:t.data.departments,loadingDepartments:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),this.setState({loadingDepartments:!1});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchTerm,a=e.searchTermState,n=e.loadingDepartments,r=e.departments;return o.a.createElement(k.d,null,o.a.createElement(k.a,{display:"flex",justifyContent:"center",marginTop:4},o.a.createElement(k.k,{id:"searchField",accessibilityLabel:"Departments Search Field",onChange:this.handleChange,value:t,placeholder:"Search Departments"}),o.a.createElement(k.a,{margin:3},o.a.createElement(k.f,{icon:"filter",color:t?"orange":"gray",size:20,accessibilityLabel:"Filter"}))),o.a.createElement(k.a,{display:"flex",justifyContent:"center",marginBottom:2},o.a.createElement("div",{style:z,color:"black"},"Shop by Departments")),o.a.createElement(k.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},r.map((function(e){return o.a.createElement(k.a,{paddingY:4,margin:2,width:200,key:e._id},o.a.createElement(k.c,{image:o.a.createElement(k.a,{height:200,width:200},o.a.createElement(T.a,{to:"/".concat(e._id)},o.a.createElement(k.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:"".concat(q).concat(e.image.url)})))},o.a.createElement(k.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},o.a.createElement(k.m,{bold:!0,size:"md"},e.name),o.a.createElement(k.m,null,e.description))))}))),o.a.createElement(A,{show:n}),o.a.createElement("div",null,a?o.a.createElement(F,{searchTerm:t}):null===this.state.searchTerm&&o.a.createElement(F,{searchTerm:this.state.searchTerm}),this.renderRedirect()))}}]),t}(r.Component),M=a(123),K=a(126),H=(a(115),function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).handleSignout=function(){b(),f(),a.props.history.push("/")},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return null!==E()?o.a.createElement(Y,{handleSignout:this.handleSignout}):o.a.createElement(V,null)}}]),t}(o.a.Component)),Y=function(e){var t=e.handleSignout;return o.a.createElement(k.a,{display:"flex",alignItems:"center",justifyContent:"around",height:50,color:"blue",padding:1,borderRadius:32},o.a.createElement(M.a,{activeClassName:"active",exact:!0,to:"/"},o.a.createElement(k.a,{display:"flex",alignItems:"center"},o.a.createElement(k.a,{marginTop:12,margin:2,height:90,width:180},o.a.createElement(k.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo-in.png"})))),o.a.createElement("div",{className:"signout-spacing"},o.a.createElement(k.b,{onClick:t,color:"transparent",text:"Sign Out",inline:!0,size:"md"})),o.a.createElement(M.a,{activeClassName:"active",to:"/checkout"},o.a.createElement("div",{className:"checkout-spacing"},o.a.createElement("i",{className:"fa fa-shopping-cart"},"Checkout "))))},V=function(){return o.a.createElement(k.a,{display:"flex",alignItems:"center",justifyContent:"around",height:60,color:"gray",padding:1,shape:"roundedBottom"},o.a.createElement(M.a,{activeClassName:"active",exact:!0,to:"/"},o.a.createElement(k.a,{display:"flex",alignItems:"center"},o.a.createElement(k.a,{marginTop:12,margin:2,height:90,width:180},o.a.createElement(k.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo.png"})))),o.a.createElement(M.a,{activeClassName:"active",to:"/signin"},o.a.createElement("div",{className:"signin-spacing"},o.a.createElement("i",{className:"fa fa-sign-in","aria-hidden":"true",title:"Sign In"}))),o.a.createElement(M.a,{activeClassName:"active",to:"/signup"},o.a.createElement("div",{className:"signup-spacing"},o.a.createElement("span",null,"Get Started"))))},G=Object(K.a)(H),J=a(18),$=function(e){var t=e.show,a=e.message;return t&&o.a.createElement(k.a,{dangerouslySetInlineStyle:{__style:{bottom:330,left:"50%",transform:"translatex(-50%)"}},position:"fixed"},o.a.createElement(k.o,{color:"orange",text:a}))},Q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",X=new R.a(Q),Z={fontSize:"30px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},ee=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",toast:!1,toastMessage:"",loading:!1},a.handleChange=function(e){var t=e.event,n=e.value;t.persist(),a.setState(Object(J.a)({},t.target.name,n))},a.handleSubmit=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,r,o,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.username,o=n.password,!a.isFormEmpty(a.state)){e.next=5;break}return a.showToast("Fill in all fields"),e.abrupt("return");case 5:return e.prev=5,a.setState({loading:!0}),e.next=9,X.login(r,o);case 9:i=e.sent,a.setState({loading:!1}),y(i.jwt),a.redirectUser("/"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),a.setState({loading:!1}),a.showToast(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),a.redirectUser=function(e){return a.props.history.push(e)},a.isFormEmpty=function(e){var t=e.username,a=e.password;return!t||!a},a.showToast=function(e){a.setState({toast:!0,toastMessage:e}),setTimeout((function(){return a.setState({toast:!1,toastMessage:""})}),5e3)},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,a=e.toast,n=e.loading;return o.a.createElement(k.d,null,o.a.createElement(k.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550},o.a.createElement("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450,height:210},onSubmit:this.handleSubmit},o.a.createElement(k.a,{marginBottom:2,display:"flex",direction:"column",alignItems:"center"},o.a.createElement("div",{style:Z,color:"black"},"Welcome Back!")),o.a.createElement(k.n,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange}),o.a.createElement(k.n,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange}),o.a.createElement(k.b,{inline:!0,disabled:n,color:"blue",text:"Submit",type:"submit"}))),o.a.createElement($,{show:a,message:t}))}}]),t}(o.a.Component),te=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",ae=new R.a(te),ne={fontSize:"30px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},re=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",toast:!1,toastMessage:"",loading:!1},a.handleChange=function(e){var t=e.event,n=e.value;t.persist(),a.setState(Object(J.a)({},t.target.name,n))},a.handleSubmit=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,r,o,i,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.username,o=n.email,i=n.password,!a.isFormEmpty(a.state)){e.next=5;break}return a.showToast("Fill in all fields"),e.abrupt("return");case 5:return e.prev=5,a.setState({loading:!0}),e.next=9,ae.register(r,o,i);case 9:c=e.sent,a.setState({loading:!1}),y(c.jwt),a.redirectUser("/"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),a.setState({loading:!1}),a.showToast(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),a.redirectUser=function(e){return a.props.history.push(e)},a.isFormEmpty=function(e){var t=e.username,a=e.email,n=e.password;return!t||!a||!n},a.showToast=function(e){a.setState({toast:!0,toastMessage:e}),setTimeout((function(){return a.setState({toast:!1,toastMessage:""})}),5e3)},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,a=e.toast,n=e.loading;return o.a.createElement(k.d,null,o.a.createElement(k.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550},o.a.createElement("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleSubmit},o.a.createElement(k.a,{marginBottom:2,display:"flex",direction:"column",alignItems:"center"},o.a.createElement("div",{style:ne,color:"black"},"Let's Get Started"),o.a.createElement(k.m,{italic:!0,color:"orchid"},"Sign up to place your order!")),o.a.createElement(k.n,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),o.a.createElement(k.n,{id:"email",type:"email",name:"email",placeholder:"Email Address",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),o.a.createElement(k.n,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),o.a.createElement(k.b,{inline:!0,disabled:n,color:"blue",text:"Submit",type:"submit",className:"bg-orange m-1 p-1 rounded"}))),o.a.createElement($,{show:a,message:t}))}}]),t}(o.a.Component),oe=a(24),ie=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",ce=new R.a(ie),se=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={cartItems:[],address:"",postalCode:"",city:"",confirmationEmailAddress:"",toast:!1,toastMessage:"",orderProcessing:!1,modal:!1},a.handleChange=function(e){var t=e.event,n=e.value;t.persist(),a.setState(Object(J.a)({},t.target.name,n))},a.handleConfirmOrder=function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.isFormEmpty(a.state)){e.next=4;break}return a.showToast("Fill in all fields"),e.abrupt("return");case 4:a.setState({modal:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmitOrder=Object(C.a)(S.a.mark((function e(){var t,n,r,o,i,c,s,l,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.cartItems,r=t.city,o=t.address,i=t.postalCode,c=t.confirmationEmailAddress,s=p(n),a.setState({orderProcessing:!0}),e.prev=3,e.next=6,a.props.stripe.createToken();case 6:return m=e.sent,l=m.token.id,e.next=10,ce.createEntry("orders",{amount:s,items:n,city:r,postalCode:i,address:o,token:l});case 10:return e.next=12,ce.request("POST","/email",{data:{to:c,subject:"Order Confirmation - FeMMit ".concat(new Date(Date.now())),text:"Your order has been processed",html:"<bold>Expect your order to arrive in 2-3 shipping days</bold>"}});case 12:a.setState({orderProcessing:!1,modal:!1}),f(),a.showToast("Your order has been successfully submitted!",!0),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),a.setState({orderProcessing:!1,modal:!1}),a.showToast(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[3,17]])}))),a.isFormEmpty=function(e){var t=e.address,a=e.postalCode,n=e.city,r=e.confirmationEmailAddress;return!t||!a||!n||!r},a.showToast=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.setState({toast:!0,toastMessage:e}),setTimeout((function(){return a.setState({toast:!1,toastMessage:""},(function(){return t&&a.props.history.push("/")}))}),5e3)},a.closeModal=function(){return a.setState({modal:!1})},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this.state,t=e.toast,a=e.toastMessage,n=e.cartItems,r=e.modal,i=e.orderProcessing;return o.a.createElement(k.d,null,o.a.createElement(k.a,{color:"darkWash",margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",alignItems:"center",direction:"column"},o.a.createElement(k.e,{color:"midnight"},"Checkout"),n.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",marginTop:2,marginBottom:6},o.a.createElement(k.m,{color:"darkGray",italic:!0},n.length," items for Checkout"),o.a.createElement(k.a,{padding:2},n.map((function(e){return o.a.createElement(k.a,{key:e._id,padding:1},o.a.createElement(k.m,{color:"midnight"},e.name," x ",e.quantity," - $",e.quantity*e.price))}))),o.a.createElement(k.m,{bold:!0},"Total Amount: ",u(n))),o.a.createElement("form",{style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleConfirmOrder},o.a.createElement(k.n,{id:"address",type:"text",name:"address",placeholder:"Shipping Address",onChange:this.handleChange}),o.a.createElement(k.n,{id:"postalCode",type:"text",name:"postalCode",placeholder:"Postal Code",onChange:this.handleChange}),o.a.createElement(k.n,{id:"city",type:"text",name:"city",placeholder:"City of Residence",onChange:this.handleChange}),o.a.createElement(k.n,{id:"confirmationEmailAddress",type:"email",name:"confirmationEmailAddress",placeholder:"Confirmation Email Address",onChange:this.handleChange}),o.a.createElement(oe.CardElement,{id:"stripe__input",onReady:function(e){return e.focus()}}),o.a.createElement("button",{id:"stripe__button",type:"submit"},"Submit"))):o.a.createElement(k.a,{color:"darkWash",shape:"rounded",padding:4},o.a.createElement(k.e,{align:"center",color:"watermelon",size:"xs"},"Your Cart is Empty"),o.a.createElement(k.m,{align:"center",italic:!0,color:"green"},"Add some items!"))),r&&o.a.createElement(le,{orderProcessing:i,cartItems:n,closeModal:this.closeModal,handleSubmitOrder:this.handleSubmitOrder}),o.a.createElement($,{show:t,message:a}))}}]),t}(o.a.Component),le=function(e){var t=e.orderProcessing,a=e.cartItems,n=e.closeModal,r=e.handleSubmitOrder;return o.a.createElement(k.j,{accessibilityCloseLabel:"close",accessibilityModalLabel:"Confirm Your Order",heading:"Confirm Your Order",onDismiss:n,footer:o.a.createElement(k.a,{display:"flex",marginRight:-1,marginLeft:-1,justifyContent:"center"},o.a.createElement(k.a,{padding:1},o.a.createElement(k.b,{size:"lg",color:"red",text:"Submit",disabled:t,onClick:r})),o.a.createElement(k.a,{padding:1},o.a.createElement(k.b,{size:"lg",text:"Cancel",disabled:t,onClick:n}))),role:"alertdialog",size:"sm"},!t&&o.a.createElement(k.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",padding:2,color:"lightWash"},a.map((function(e){return o.a.createElement(k.a,{key:e._id,padding:1},o.a.createElement(k.m,{size:"lg",color:"red"},e.name," x ",e.quantity," - $",e.quantity*e.price))})),o.a.createElement(k.a,{paddingY:2},o.a.createElement(k.m,{size:"lg",bold:!0},"Total: ",u(a)))),o.a.createElement(k.l,{show:t,accessibilityLabel:"Order Processing Spinner"}),t&&o.a.createElement(k.m,{align:"center",italic:!0},"Submitting Order..."))},me=Object(K.a)(Object(oe.injectStripe)(se)),de=function(){return o.a.createElement(oe.StripeProvider,{apiKey:"pk_test_x8yjxMCIGG0GwegNJCzILYWy00qrvPKmKA"},o.a.createElement(oe.Elements,null,o.a.createElement(me,null)))},ue=(a(26),a(27)),pe=a.n(ue),he=function(e){return pe.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc")},ge=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",fe=new R.a(ge),Ee={fontSize:"30px",fontFamily:"calibri light",fontWeight:"bold"},ye=[],be=[],ve="",Se="",Ce=[],we=[],Oe=["Wars of Law","Among the Valiant","Religion","The Fall of Western Civilization","Destruction of Black Civilization","Sex in Antiquity","Wars","food","School","Country","Music","Friends","Family","Baby","Politics"],Ie=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],department:"",departmentId:"",cartItems:[],search:"",books:[],displayingCart:!1,loadingItems:!0},a.bookDeptId=function(){var e=Oe[Math.floor(Math.random()*Oe.length)];a.searchForBooks(e)},a.searchForBooks=function(e){he(e).then((function(e){e.data.error?console.log(e.data.error):(ye=e.data.items,a.displayBooks())})).catch((function(e){return console.log(e)}))},a.displayBooks=function(){a.setState({books:ye,department:"Books"});for(var e=0;e<ye.length;e++){var t=String(ye[e].etag),n=String(ye[e].volumeInfo.title),r=String(ye[e].volumeInfo.description),o=String(ye[e].volumeInfo.authors),i=String(ye[e].volumeInfo.publishedDate);Se=null==ye[e].volumeInfo.imageLinks?"https://lmtrain.github.io/lm-images/assets/images/books5.jpg":String(ye[e].volumeInfo.imageLinks.thumbnail),ve="NOT_FOR_SALE"===ye[e].saleInfo.saleability?Number(0):String(ye[e].saleInfo.retailPrice.amount);s=180,r=((c=r).length>s&&s>3?c.slice(0,s-3)+"...":c.length>s&&s<=3?c.slice(0,s)+"...":c)+"\n || Author : "+o+"\n || Pulished Date : "+i,be.push({_id:t,name:n,description:r,thumbnail:Se,price:ve})}var c,s;a.setState({items:be,loadingItems:!1,cartItems:g()})},a.shuffle=function(){for(var e=Object(P.a)(a.state.items),t=[],n=0;n<a.state.items.length;n++)we=e.splice(Math.floor(Math.random()*e.length/2)),t=[].concat(Object(P.a)(t),Object(P.a)(we));Ce.push(a.state.items),a.setState({items:t})},a.addToCart=function(e){var t=a.state.cartItems.findIndex((function(t){return t._id===e._id}));if(-1===t){var n=a.state.cartItems.concat(Object(D.a)({},e,{quantity:1}));a.setState({cartItems:n},(function(){return h(n)})),console.log(a.state.cartItems)}else{var r=Object(P.a)(a.state.cartItems);r[t].quantity+=1,a.setState({cartItems:r},(function(){return h(r)})),console.log(a.state.cartItems)}},a.deleteItemsFromCart=function(e){var t=a.state.cartItems.filter((function(t){return t._id!==e}));a.setState({cartItems:t},(function(){return h(t)}))},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("5dcf9519dc3bcd3de001697b"!==this.props.itemDeptId){e.next=4;break}this.bookDeptId(),e.next=14;break;case 4:return e.prev=4,e.next=7,fe.request("POST","/graphql",{data:{query:'query {\n                    department(id: "'.concat(this.props.itemDeptId,'") {\n                      _id\n                      name\n                      items {\n                        _id\n                        name\n                        description\n                        thumbnail                       \n                        price\n                      }    \n                    }\n                }')}});case 7:t=e.sent,this.setState({items:t.data.department.items,department:t.data.department.name,loadingItems:!1,cartItems:g()}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:this.shuffle();case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.department,n=t.items,r=t.cartItems,i=t.loadingItems;return o.a.createElement(k.a,{marginTop:4,display:"flex",justifyContent:"center",alignItems:"start",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}}},o.a.createElement(k.a,{display:"flex",direction:"column",alignItems:"center"},o.a.createElement(k.a,{margin:2},o.a.createElement("div",{style:Ee},a)),o.a.createElement(k.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},wrap:!0,shape:"rounded",display:"flex",justifyContent:"center",padding:4},n.map((function(t){return o.a.createElement(k.a,{paddingY:4,margin:2,width:210,key:t._id},o.a.createElement(k.c,{image:o.a.createElement(k.a,{height:200,width:200},o.a.createElement(k.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail}))},o.a.createElement(k.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},o.a.createElement(k.a,{marginBottom:2},o.a.createElement(k.m,{bold:!0,size:"md"},t.name)),o.a.createElement(k.m,null,t.description),o.a.createElement(k.m,{color:"orchid"},"$",t.price),o.a.createElement(k.a,{marginTop:2},o.a.createElement(k.m,{bold:!0,size:"xl"},o.a.createElement(k.b,{onClick:function(){return e.addToCart(t)},color:"blue",text:"Add to Cart"}))))))})))),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"lineitems"},o.a.createElement(T.a,{to:"5dcf94e2dc3bcd3de0016978"},o.a.createElement("div",{className:"lineitems"},o.a.createElement("p",null,"Automotive"))),o.a.createElement(T.a,{to:"5dcf9519dc3bcd3de001697b"},o.a.createElement("div",{className:"lineitems"},o.a.createElement("p",null,"Books"))),o.a.createElement(T.a,{to:"5dcf94a0dc3bcd3de0016975"},o.a.createElement("div",{className:"lineitems"},o.a.createElement("p",null,"Electronics"))),o.a.createElement(T.a,{to:"5dcf9457dc3bcd3de0016972"},o.a.createElement("div",{className:"lineitems"},o.a.createElement("p",null,"Fashion"))),o.a.createElement(T.a,{to:"5dcf8d67dc3bcd3de001696f"},o.a.createElement("div",{className:"lineitems"},o.a.createElement("p",null,"Home"))),o.a.createElement(T.a,{to:"5dcf9551dc3bcd3de001697e"},o.a.createElement("div",{className:"lineitems"},o.a.createElement("p",null,"Sports Outdoor"))))),o.a.createElement(k.a,{marginTop:2},o.a.createElement(k.i,{shape:"rounded",wash:!0},o.a.createElement(k.a,{padding:2},o.a.createElement("i",{className:"fa fa-shopping-cart"}," ",r.length),o.a.createElement(k.b,{onClick:function(){return e.props.displayingCartItems()},color:"blue",text:"View Cart"})))),o.a.createElement(A,{show:i}))}}]),t}(o.a.Component),_e=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={cartItems:[]},a.addToCart=function(e){var t=a.state.cartItems.findIndex((function(t){return t._id===e._id}));if(-1===t){var n=a.state.cartItems.concat(Object(D.a)({},e,{quantity:1}));a.setState({cartItems:n},(function(){return h(n)}))}else{var r=Object(P.a)(a.state.cartItems);r[t].quantity+=1,a.setState({cartItems:r},(function(){return h(r)}))}},a.deleteItemsFromCart=function(e){var t=a.state.cartItems.filter((function(t){return t._id!==e}));a.setState({cartItems:t},(function(){return h(t)}))},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this,t=this.state.cartItems;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"cartitems"},o.a.createElement(T.a,{to:"5dcf94e2dc3bcd3de0016978"},o.a.createElement("div",{className:"cartitems"},o.a.createElement("p",null,"Automotive"))),o.a.createElement(T.a,{to:"5dcf9519dc3bcd3de001697b"},o.a.createElement("div",{className:"cartitems"},o.a.createElement("p",null,"Books"))),o.a.createElement(T.a,{to:"5dcf94a0dc3bcd3de0016975"},o.a.createElement("div",{className:"cartitems"},o.a.createElement("p",null,"Electronics"))),o.a.createElement(T.a,{to:"5dcf9457dc3bcd3de0016972"},o.a.createElement("div",{className:"cartitems"},o.a.createElement("p",null,"Fashion"))),o.a.createElement(T.a,{to:"5dcf8d67dc3bcd3de001696f"},o.a.createElement("div",{className:"cartitems"},o.a.createElement("p",null,"Home"))),o.a.createElement(T.a,{to:"5dcf9551dc3bcd3de001697e"},o.a.createElement("div",{className:"cartitems"},o.a.createElement("p",null,"Sports Outdoor")))),o.a.createElement(k.a,{alignSelf:"end",marginTop:292,marginLeft:8,marginRight:8,padding:4},o.a.createElement(k.a,{display:"flex",direction:"column",padding:4},o.a.createElement(k.a,{align:"center",padding:6},o.a.createElement(k.e,{align:"center",color:"black",bold:!0,size:"xs"},"Shopping Cart"),o.a.createElement(k.a,{align:"center",display:"flex",direction:"row"},o.a.createElement("div",{className:"carttotal"},o.a.createElement(k.m,{align:"center",color:"black",size:"xl"},"Total (",t.length," items ):")),o.a.createElement("div",{className:"carttotal"},o.a.createElement(k.m,{align:"center",bold:!0,size:"xl",color:"red"},u(t))),o.a.createElement("div",{className:"carttotal"},o.a.createElement(k.m,null,o.a.createElement(T.a,{to:"/checkout"},o.a.createElement(k.b,{padding:4,color:"blue",text:"Checkout"})))))),t.map((function(t){return o.a.createElement(k.a,{key:t._id,display:"flex",padding:2,align:"left",direction:"column"},o.a.createElement("div",{className:"container max-w-md p-2 m-2 shadow-lg rounded bg-gray"},o.a.createElement(k.a,{height:200,width:180,align:"left"},o.a.createElement(k.h,{alt:"item",naturalHeight:1,naturalWidth:1,src:t.thumbnail})),o.a.createElement(k.a,{padding:4},o.a.createElement(k.a,{display:"flex",direction:"row"},o.a.createElement(k.m,{bold:!0,size:"sl",color:"blue"},t.name,o.a.createElement(k.g,{accessibilityLabel:"Delete Item",icon:"cancel",size:"sm",iconColor:"red",onClick:function(){return e.deleteItemsFromCart(t._id)}}))),o.a.createElement(k.m,null,"Qty: ",t.quantity),o.a.createElement(k.m,null,"Price: $",(t.quantity*t.price).toFixed(2)),o.a.createElement("hr",null))))})),o.a.createElement(k.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},o.a.createElement(k.a,{margin:2},0===t.length&&o.a.createElement(k.m,{color:"red"},"Please select some items")),o.a.createElement(k.m,{size:"lg"},"Total: ",u(t))))))}}]),t}(o.a.Component),xe=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],department:"",cartItems:[],itemDeptId:"",itemsSearched:[],displayingCart:!1,displayBooks:!0},a.displayingCartItems=function(){a.setState({displayingCart:!1})},a.changeDeptIdState=function(){a.setState({itemDeptId:a.props.match.params.departmentId})},a}return Object(x.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.setState({displayingCart:!0}),this.changeDeptIdState()}},{key:"render",value:function(){var e=this.state,t=e.displayingCart,a=e.itemDeptId,n=e.itemsSearched;return o.a.createElement("div",null,t?o.a.createElement(Ie,{itemDeptId:a,displayingCartItems:this.displayingCartItems,itemsSearched:n}):o.a.createElement(_e,null))}}]),t}(o.a.Component),ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Te(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var je=function(e){var t=e.component,a=Object(n.a)(e,["component"]);return o.a.createElement(s.a,Object.assign({},a,{render:function(e){return null!==E()?o.a.createElement(t,e):o.a.createElement(l.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))};c.a.render(o.a.createElement((function(){return o.a.createElement(m.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(G,null),o.a.createElement(d.a,null,o.a.createElement(s.a,{component:U,exact:!0,path:"/"}),o.a.createElement(s.a,{component:F,exact:!0,path:"/searchresult"}),o.a.createElement(s.a,{component:ee,path:"/signin"}),o.a.createElement(s.a,{component:re,path:"/signup"}),o.a.createElement(je,{component:de,path:"/checkout"}),o.a.createElement(s.a,{component:xe,path:"/:departmentId"}))))}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ke?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Te(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Te(e)}))}}()},26:function(e,t,a){},39:function(e,t,a){},52:function(e,t,a){e.exports=a(121)}},[[52,1,2]]]);
//# sourceMappingURL=main.a955769e.chunk.js.map