(this["webpackJsonpecommerce-react-graphql-stripe"]=this["webpackJsonpecommerce-react-graphql-stripe"]||[]).push([[0],{115:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a(0),i=a.n(r),c=a(23),l=a.n(c),o=a(48),s=a(124),m=a(125),d=a(127),u=function(e){return"$".concat(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},p=function(e){return Number(e.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2))},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart";localStorage&&localStorage.setItem(t,JSON.stringify(e))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart";return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart";localStorage&&localStorage.removeItem(e)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwt";return localStorage&&localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jwt";localStorage&&localStorage.setItem(t,JSON.stringify(e))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwt";localStorage&&localStorage.removeItem(e)},b=(a(57),a(4)),S=a.n(b),C=a(13),w=a(7),I=a(8),O=a(10),_=a(9),x=a(11),T=a(2),k=a(34),j=a(46),A=function(e){return e.show&&i.a.createElement(T.a,{position:"fixed",dangerouslySetInlineStyle:{__style:{bottom:300,left:"50%",transform:"translateX(-50%)"}}},i.a.createElement(j.GridLoader,{color:"darkorange",size:25,margin:"3px"}))},P=a(17),R=a(18),D=(a(39),a(25),{fontSize:"24px",fontFamily:"calibri light",fontWeight:"bold",textAlign:"center"}),N=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={cartItems:[]},a.addToCart=function(e){var t=a.state.cartItems.findIndex((function(t){return t._id===e._id}));if(-1===t){var n=a.state.cartItems.concat(Object(R.a)({},e,{quantity:1}));a.setState({cartItems:n},(function(){return h(n)}))}else{var r=Object(P.a)(a.state.cartItems);r[t].quantity+=1,a.setState({cartItems:r},(function(){return h(r)}))}},a.deleteItemsFromCart=function(e){var t=a.state.cartItems.filter((function(t){return t._id!==e}));a.setState({cartItems:t},(function(){return h(t)}))},a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this,t=this.state.cartItems;return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{alignSelf:"end",marginTop:292,marginLeft:8,marginRight:8,padding:4},i.a.createElement(T.a,{margin:2},i.a.createElement("div",{style:D},"Shopping Cart"))),i.a.createElement("div",{className:"card"},i.a.createElement(T.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(T.a,{margin:2},0===t.length&&i.a.createElement(T.l,{color:"red"},"Please select some items"))),i.a.createElement(T.a,{display:"flex",direction:"row",column:6,paddingX:2},i.a.createElement(T.a,null,t.map((function(t){return i.a.createElement("div",{className:"card-item"},i.a.createElement(T.a,{key:t._id,display:"flex",direction:"row",marginTop:2,marginLeft:3,paddingLeft:2,paddingRight:2},i.a.createElement(T.a,{display:"flex",direction:"row"},i.a.createElement(T.a,{height:80,width:80},i.a.createElement(T.h,{alt:"item",naturalHeight:1,naturalWidth:1,src:t.thumbnail}))),i.a.createElement(T.a,{padding:2},i.a.createElement(T.a,{display:"flex",direction:"row"},i.a.createElement(T.l,{bold:!0,size:"sl",color:"blue"},t.name),i.a.createElement(T.a,{marginLeft:10,paddingLeft:0,paddingRight:0},i.a.createElement(T.b,{size:"sm",color:"red",text:"x",onClick:function(){return e.deleteItemsFromCart(t._id)}}))),i.a.createElement(T.a,{display:"flex",direction:"row"},i.a.createElement(T.l,null,"Qty: ",t.quantity)),i.a.createElement(T.l,null,"Price: $",(t.quantity*t.price).toFixed(2)))))}))),i.a.createElement(T.a,{column:6,marginLeft:10,marginRightt:-1,marginTop:10,paddingLeft:0,paddingRight:0},i.a.createElement(T.a,{align:"center",display:"flex",direction:"column"},i.a.createElement("div",{className:"carttotal"},i.a.createElement(T.l,{align:"center",bold:!0,color:"black",size:"sm"},"Total (",t.length," items )")),i.a.createElement("div",{className:"carttotal"},i.a.createElement(T.l,{align:"center",bold:!0,size:"xl",color:"red"},u(t))),i.a.createElement("div",{className:"carttotal"},i.a.createElement(T.l,null,i.a.createElement(k.a,{to:"/checkout"},i.a.createElement(T.b,{padding:2,color:"blue",text:"Checkout"})))))))))}}]),t}(i.a.Component),L=a(15),W=a.n(L),F=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",z=new W.a(F),q=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={searchedResult:[],searchTermName:"",searchedResults:[],items:[],displayingCart:!1,cartItems:[]},a.displayingCartItems=function(){a.setState({displayingCart:!0})},a.addToCart=function(e){var t=a.state.cartItems.findIndex((function(t){return t._id===e._id}));if(-1===t){var n=a.state.cartItems.concat(Object(R.a)({},e,{quantity:1}));a.setState({cartItems:n},(function(){return h(n)}))}else{var r=Object(P.a)(a.state.cartItems);r[t].quantity+=1,a.setState({cartItems:r},(function(){return h(r)}))}},a.searchDepartments=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(a.state.searchTermName.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:t=e.sent,a.setState({searchedResults:t.data.items,cartItems:g()}),console.log(a.state.searchedResults);case 5:case"end":return e.stop()}}),e)}))),a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setState({searchTermName:this.props.searchTerm}),console.log("THIS IS SEARCHED ITEMS NAME",this.state.searchTermName),this.searchDepartments()}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchedResults,n=(t.cartItems,t.displayingCart);function r(e,t){return e.length>t&&t>3?e.slice(0,t-3)+"...":e.length>t&&t<=3?e.slice(0,t)+"...":e}return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{display:"flex",direction:"row",marginLeft:10},i.a.createElement(T.d,{span:2},i.a.createElement(T.a,null,i.a.createElement(T.l,{color:"white"}))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94e2dc3bcd3de0016978"},i.a.createElement("div",null,i.a.createElement("p",null,"Automotive")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9519dc3bcd3de001697b"},i.a.createElement("div",null,i.a.createElement("p",null,"Books")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94a0dc3bcd3de0016975"},i.a.createElement("div",null,i.a.createElement("p",null,"Electronics")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9457dc3bcd3de0016972"},i.a.createElement("div",null,i.a.createElement("p",null,"Fashion")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf8d67dc3bcd3de001696f"},i.a.createElement("div",null,i.a.createElement("p",null,"Home")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9551dc3bcd3de001697e"},i.a.createElement("div",null,i.a.createElement("p",null,"Sports Outdoor")," "))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(T.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0},i.a.createElement(T.b,{size:"sm",onClick:function(){return e.displayingCartItems()},color:"blue",text:"View Cart"})))),i.a.createElement("div",null,!0===n?i.a.createElement(N,null):[]),i.a.createElement("div",{className:"card"},i.a.createElement(T.a,{align:"center"},i.a.createElement(T.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},a.map((function(t){return i.a.createElement(T.a,{paddingY:4,margin:2,width:200,key:t._id},i.a.createElement(T.c,{image:i.a.createElement(T.a,{height:80,width:80},i.a.createElement(T.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail}))},i.a.createElement(T.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(T.a,{marginBottom:2},i.a.createElement(T.l,{bold:!0,size:"sm"},t.name=r(t.name,50))),i.a.createElement(T.l,{size:"sm"},t.description=r(t.description,90),";"),i.a.createElement(T.l,{color:"orchid"},"$",t.price),i.a.createElement(T.a,{marginTop:2},i.a.createElement(T.l,{size:"sm"},i.a.createElement(T.b,{size:"sm",onClick:function(){return e.addToCart(t)},color:"blue",text:"Add to Cart"}))))))}))))))}}]),t}(r.Component),B=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",M=new W.a(B),U={fontSize:"30px",fontFamily:"calibri light"},K=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={departments:[],department:[],departmentId:[],cartItems:[],items:[],searchedItems:[],searchTerm:"",loadingDepartments:!0,redirect:!1,searchTermState:!1},a.renderRedirect=function(){if(a.state.redirect)return i.a.createElement(s.a,{to:"/SearchResult"})},a.handleChange=function(e){var t=e.value;a.setState({searchTerm:t},(function(){return a.searchDepartments()}))},a.searchDepartments=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.request("POST","/graphql",{data:{query:'query {\n         items(where: {\n            name_contains: "'.concat(a.state.searchTerm.toLowerCase(),'"\n          }) {\n            _id\n            name\n            description\n            thumbnail                       \n            price\n            department {\n              _id\n              name\n            }\n          }\n        }')}});case 2:t=e.sent,a.setState({searchedItems:t.data.items,loadingDepartments:!1,redirect:!0,searchTermState:!0});case 4:case"end":return e.stop()}}),e)}))),a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.request("POST","/graphql",{data:{query:"query {\n           departments {\n              _id\n              name\n              description\n              image {\n                url\n              }\n            }\n          }"}});case 3:t=e.sent,this.setState({departments:t.data.departments,loadingDepartments:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),this.setState({loadingDepartments:!1});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.searchTerm,a=e.searchTermState,n=e.loadingDepartments,r=e.departments;function c(e,t){return e.length>t&&t>3?e.slice(0,t-3)+"...":e.length>t&&t<=3?e.slice(0,t)+"...":e}return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.e,null,i.a.createElement(T.a,{display:"flex",justifyContent:"center",marginTop:4},i.a.createElement(T.j,{id:"searchField",accessibilityLabel:"Departments Search Field",onChange:this.handleChange,value:t,placeholder:"Search Departments"}),i.a.createElement(T.a,{margin:3},i.a.createElement(T.g,{icon:"filter",color:t?"orange":"gray",size:20,accessibilityLabel:"Filter"}))),i.a.createElement(T.a,{display:"flex",justifyContent:"center",marginBottom:2},i.a.createElement("div",{style:U,color:"black"},"Shop by Departments")),i.a.createElement(T.a,{dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},r.map((function(e){return i.a.createElement(T.a,{paddingY:4,margin:2,width:200,key:e._id},i.a.createElement(T.c,{image:i.a.createElement(T.a,{height:200,width:200},i.a.createElement(k.a,{to:"/".concat(e._id)},i.a.createElement(T.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:"".concat(B).concat(e.image.url)})))},i.a.createElement(T.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(T.l,{bold:!0,size:"sm"},e.name=c(e.name,50)),i.a.createElement(T.l,{size:"sm"},e.description=c(e.description,90),";"))))}))),i.a.createElement(A,{show:n}),i.a.createElement("div",null,a?i.a.createElement(q,{searchTerm:t}):null===this.state.searchTerm&&i.a.createElement(q,{searchTerm:this.state.searchTerm}),this.renderRedirect())))}}]),t}(r.Component),H=a(123),Y=a(126),V=(a(115),function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={cartItems:[]},a.handleSignout=function(){v(),f(),a.props.history.push("/")},a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this.state.cartItems;return null!==E()?i.a.createElement(J,{handleSignout:this.handleSignout,cartItems:e}):i.a.createElement(G,null)}}]),t}(i.a.Component)),J=function(e){var t=e.handleSignout,a=e.cartItems;return i.a.createElement(T.a,{display:"flex",alignItems:"center",justifyContent:"around",height:50,color:"blue",padding:1,borderRadius:32},i.a.createElement(H.a,{activeClassName:"active",exact:!0,to:"/"},i.a.createElement(T.a,{display:"flex",alignItems:"center"},i.a.createElement(T.a,{marginTop:12,margin:2,height:90,width:180},i.a.createElement(T.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo-in.png"})))),i.a.createElement("div",{className:"signout-spacing"},i.a.createElement(T.b,{onClick:t,color:"transparent",text:"Sign Out",inline:!0,size:"md"})),i.a.createElement(H.a,{activeClassName:"active",to:"/checkout"},i.a.createElement("div",{className:"checkout-spacing"},i.a.createElement("p",null,a.length,i.a.createElement("i",{className:"fa fa-shopping-cart"}," "," Checkout ")," "))))},G=function(){return i.a.createElement(T.a,{display:"flex",alignItems:"center",justifyContent:"around",height:60,color:"gray",padding:1,shape:"roundedBottom"},i.a.createElement(H.a,{activeClassName:"active",exact:!0,to:"/"},i.a.createElement(T.a,{display:"flex",alignItems:"center"},i.a.createElement(T.a,{marginTop:12,margin:2,height:90,width:180},i.a.createElement(T.h,{alt:"FeMMit Logo",naturalHeight:1,naturalWidth:1,src:"./icons/logo.png"})))),i.a.createElement(H.a,{activeClassName:"active",to:"/signin"},i.a.createElement("div",{className:"signin-spacing"},i.a.createElement("i",{className:"fa fa-sign-in","aria-hidden":"true",title:"Sign In"}))),i.a.createElement(H.a,{activeClassName:"active",to:"/signup"},i.a.createElement("div",{className:"signup-spacing"},i.a.createElement("span",null,"Get Started"))))},$=Object(Y.a)(V),Q=a(19),X=function(e){var t=e.show,a=e.message;return t&&i.a.createElement(T.a,{dangerouslySetInlineStyle:{__style:{bottom:330,left:"50%",transform:"translatex(-50%)"}},position:"fixed"},i.a.createElement(T.n,{color:"orange",text:a}))},Z=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",ee=new W.a(Z),te={fontSize:"22px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},ae=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",toast:!1,toastMessage:"",loading:!1},a.handleChange=function(e){var t=e.event,n=e.value;t.persist(),a.setState(Object(Q.a)({},t.target.name,n))},a.handleSubmit=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,r,i,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.username,i=n.password,!a.isFormEmpty(a.state)){e.next=5;break}return a.showToast("Fill in all fields"),e.abrupt("return");case 5:return e.prev=5,a.setState({loading:!0}),e.next=9,ee.login(r,i);case 9:c=e.sent,a.setState({loading:!1}),y(c.jwt),a.redirectUser("/"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),a.setState({loading:!1}),a.showToast(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),a.redirectUser=function(e){return a.props.history.push(e)},a.isFormEmpty=function(e){var t=e.username,a=e.password;return!t||!a},a.showToast=function(e){a.setState({toast:!0,toastMessage:e}),setTimeout((function(){return a.setState({toast:!1,toastMessage:""})}),5e3)},a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,a=e.toast,n=e.loading;return i.a.createElement(T.e,null,i.a.createElement(T.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550},i.a.createElement("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450,height:210},onSubmit:this.handleSubmit},i.a.createElement(T.a,{marginBottom:2,marginTop:-3,display:"flex",direction:"column",alignItems:"center"},i.a.createElement("div",{style:te,color:"black"},"Sign In")),i.a.createElement(T.a,{marginBottom:2},i.a.createElement(T.m,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange})),i.a.createElement(T.m,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange}),i.a.createElement(T.a,{margiginTop:5,paddingY:2},i.a.createElement(T.b,{inline:!0,disabled:n,color:"blue",text:"Submit",type:"submit"})))),i.a.createElement(X,{show:a,message:t}))}}]),t}(i.a.Component),ne=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",re=new W.a(ne),ie={fontSize:"30px",fontFamily:"calibri light",fontWeight:"bold",color:"black"},ce=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",toast:!1,toastMessage:"",loading:!1},a.handleChange=function(e){var t=e.event,n=e.value;t.persist(),a.setState(Object(Q.a)({},t.target.name,n))},a.handleSubmit=function(){var e=Object(C.a)(S.a.mark((function e(t){var n,r,i,c,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.state,r=n.username,i=n.email,c=n.password,!a.isFormEmpty(a.state)){e.next=5;break}return a.showToast("Fill in all fields"),e.abrupt("return");case 5:return e.prev=5,a.setState({loading:!0}),e.next=9,re.register(r,i,c);case 9:l=e.sent,a.setState({loading:!1}),y(l.jwt),a.redirectUser("/"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),a.setState({loading:!1}),a.showToast(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),a.redirectUser=function(e){return a.props.history.push(e)},a.isFormEmpty=function(e){var t=e.username,a=e.email,n=e.password;return!t||!a||!n},a.showToast=function(e){a.setState({toast:!0,toastMessage:e}),setTimeout((function(){return a.setState({toast:!1,toastMessage:""})}),5e3)},a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.state,t=e.toastMessage,a=e.toast,n=e.loading;return i.a.createElement(T.e,null,i.a.createElement(T.a,{dangerouslySetInlineStyle:{__style:{}},margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",width:550},i.a.createElement("form",{className:"container max-w-md mx-auto p-8 m-2 shadow-lg rounded bg-gray",style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleSubmit},i.a.createElement(T.a,{marginBottom:2,display:"flex",direction:"column",alignItems:"center"},i.a.createElement("div",{style:ie,color:"black"},"Let's Get Started"),i.a.createElement(T.l,{italic:!0,color:"orchid"},"Sign up to place your order!")),i.a.createElement(T.m,{id:"username",type:"text",name:"username",placeholder:"Username",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),i.a.createElement(T.m,{id:"email",type:"email",name:"email",placeholder:"Email Address",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),i.a.createElement(T.m,{id:"password",type:"password",name:"password",placeholder:"Password",onChange:this.handleChange,className:"border m-1 p-1 rounded"}),i.a.createElement(T.b,{inline:!0,disabled:n,color:"blue",text:"Submit",type:"submit",className:"bg-orange m-1 p-1 rounded"}))),i.a.createElement(X,{show:a,message:t}))}}]),t}(i.a.Component),le=a(24),oe=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",se=new W.a(oe),me=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={cartItems:[],address:"",postalCode:"",city:"",confirmationEmailAddress:"",toast:!1,toastMessage:"",orderProcessing:!1,modal:!1},a.handleChange=function(e){var t=e.event,n=e.value;t.persist(),a.setState(Object(Q.a)({},t.target.name,n))},a.handleConfirmOrder=function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.isFormEmpty(a.state)){e.next=4;break}return a.showToast("Fill in all fields"),e.abrupt("return");case 4:a.setState({modal:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmitOrder=Object(C.a)(S.a.mark((function e(){var t,n,r,i,c,l,o,s,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.cartItems,r=t.city,i=t.address,c=t.postalCode,l=t.confirmationEmailAddress,o=p(n),a.setState({orderProcessing:!0}),e.prev=3,e.next=6,a.props.stripe.createToken();case 6:return m=e.sent,s=m.token.id,e.next=10,se.createEntry("orders",{amount:o,items:n,city:r,postalCode:c,address:i,token:s});case 10:return e.next=12,se.request("POST","/email",{data:{to:l,subject:"Order Confirmation - FeMMit ".concat(new Date(Date.now())),text:"Your order has been processed",html:"<bold>Expect your order to arrive in 2-3 shipping days</bold>"}});case 12:a.setState({orderProcessing:!1,modal:!1}),f(),a.showToast("Your order has been successfully submitted!",!0),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),a.setState({orderProcessing:!1,modal:!1}),a.showToast(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[3,17]])}))),a.isFormEmpty=function(e){var t=e.address,a=e.postalCode,n=e.city,r=e.confirmationEmailAddress;return!t||!a||!n||!r},a.showToast=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.setState({toast:!0,toastMessage:e}),setTimeout((function(){return a.setState({toast:!1,toastMessage:""},(function(){return t&&a.props.history.push("/")}))}),5e3)},a.closeModal=function(){return a.setState({modal:!1})},a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setState({cartItems:g()})}},{key:"render",value:function(){var e=this.state,t=e.toast,a=e.toastMessage,n=e.cartItems,r=e.modal,c=e.orderProcessing;return i.a.createElement(T.e,null,i.a.createElement(T.a,{color:"darkWash",margin:4,padding:4,shape:"rounded",display:"flex",justifyContent:"center",alignItems:"center",direction:"column"},i.a.createElement(T.f,{color:"midnight"},"Checkout"),n.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",marginTop:2,marginBottom:6},i.a.createElement(T.l,{color:"darkGray",italic:!0},n.length," items for Checkout"),i.a.createElement(T.a,{padding:2},n.map((function(e){return i.a.createElement(T.a,{key:e._id,padding:1},i.a.createElement(T.l,{color:"midnight"},e.name," x ",e.quantity," - $",e.quantity*e.price))}))),i.a.createElement(T.l,{bold:!0},"Total Amount: ",u(n))),i.a.createElement("form",{style:{display:"inlineBlock",textAlign:"center",maxWidth:450},onSubmit:this.handleConfirmOrder},i.a.createElement(T.m,{id:"address",type:"text",name:"address",placeholder:"Shipping Address",onChange:this.handleChange}),i.a.createElement(T.m,{id:"postalCode",type:"text",name:"postalCode",placeholder:"Postal Code",onChange:this.handleChange}),i.a.createElement(T.m,{id:"city",type:"text",name:"city",placeholder:"City of Residence",onChange:this.handleChange}),i.a.createElement(T.m,{id:"confirmationEmailAddress",type:"email",name:"confirmationEmailAddress",placeholder:"Confirmation Email Address",onChange:this.handleChange}),i.a.createElement(le.CardElement,{id:"stripe__input",onReady:function(e){return e.focus()}}),i.a.createElement("button",{id:"stripe__button",type:"submit"},"Submit"))):i.a.createElement(T.a,{color:"darkWash",shape:"rounded",padding:4},i.a.createElement(T.f,{align:"center",color:"watermelon",size:"xs"},"Your Cart is Empty"),i.a.createElement(T.l,{align:"center",italic:!0,color:"green"},"Add some items!"))),r&&i.a.createElement(de,{orderProcessing:c,cartItems:n,closeModal:this.closeModal,handleSubmitOrder:this.handleSubmitOrder}),i.a.createElement(X,{show:t,message:a}))}}]),t}(i.a.Component),de=function(e){var t=e.orderProcessing,a=e.cartItems,n=e.closeModal,r=e.handleSubmitOrder;return i.a.createElement(T.i,{accessibilityCloseLabel:"close",accessibilityModalLabel:"Confirm Your Order",heading:"Confirm Your Order",onDismiss:n,footer:i.a.createElement(T.a,{display:"flex",marginRight:-1,marginLeft:-1,justifyContent:"center"},i.a.createElement(T.a,{padding:1},i.a.createElement(T.b,{size:"lg",color:"red",text:"Submit",disabled:t,onClick:r})),i.a.createElement(T.a,{padding:1},i.a.createElement(T.b,{size:"lg",text:"Cancel",disabled:t,onClick:n}))),role:"alertdialog",size:"sm"},!t&&i.a.createElement(T.a,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",padding:2,color:"lightWash"},a.map((function(e){return i.a.createElement(T.a,{key:e._id,padding:1},i.a.createElement(T.l,{size:"lg",color:"red"},e.name," x ",e.quantity," - $",e.quantity*e.price))})),i.a.createElement(T.a,{paddingY:2},i.a.createElement(T.l,{size:"lg",bold:!0},"Total: ",u(a)))),i.a.createElement(T.k,{show:t,accessibilityLabel:"Order Processing Spinner"}),t&&i.a.createElement(T.l,{align:"center",italic:!0},"Submitting Order..."))},ue=Object(Y.a)(Object(le.injectStripe)(me)),pe=function(){return i.a.createElement(le.StripeProvider,{apiKey:"pk_test_x8yjxMCIGG0GwegNJCzILYWy00qrvPKmKA"},i.a.createElement(le.Elements,null,i.a.createElement(ue,null)))},he=a(27),ge=a.n(he),fe=function(e){return ge.a.get("https://www.googleapis.com/books/v1/volumes?q="+e+"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc")},Ee=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_APIKEY:"&maxResults=40&orderBy=newest&key=AIzaSyD5c7Uuj4hd7FPRO9A9o4zhWaCTsffKrNc",REACT_APP_BASEURL:"https://www.googleapis.com/books/v1/volumes?q="}).API_URL||"http://localhost:1337",ye=new W.a(Ee),ve={fontSize:"24px",fontFamily:"calibri light",fontWeight:"bold"},be=[],Se=[],Ce="",we="",Ie=[],Oe=[],_e=["Wars of Law","Among the Valiant","Religion","The Fall of Western Civilization","Destruction of Black Civilization","Sex in Antiquity","Wars","food","School","Country","Music","Friends","Family","Baby","Politics"],xe=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],department:"",departmentId:"",cartItems:[],search:"",books:[],displayingCart:!1,loadingItems:!0},a.bookDeptId=function(){var e=_e[Math.floor(Math.random()*_e.length)];a.searchForBooks(e)},a.searchForBooks=function(e){fe(e).then((function(e){e.data.error?console.log(e.data.error):(be=e.data.items,a.displayBooks())})).catch((function(e){return console.log(e)}))},a.displayBooks=function(){a.setState({books:be,department:"Books"});for(var e=0;e<be.length;e++){var t=String(be[e].etag),n=String(be[e].volumeInfo.title),r=String(be[e].volumeInfo.description),i=String(be[e].volumeInfo.authors),c=String(be[e].volumeInfo.publishedDate);we=null==be[e].volumeInfo.imageLinks?"https://lmtrain.github.io/lm-images/assets/images/books5.jpg":String(be[e].volumeInfo.imageLinks.thumbnail),Ce="NOT_FOR_SALE"===be[e].saleInfo.saleability?Number(0):String(be[e].saleInfo.retailPrice.amount);o=90,r=((l=r).length>o&&o>3?l.slice(0,o-3)+"...":l.length>o&&o<=3?l.slice(0,o)+"...":l)+"\n || Author : "+i+"\n || Pulished Date : "+c,Se.push({_id:t,name:n,description:r,thumbnail:we,price:Ce})}var l,o;a.setState({items:Se,loadingItems:!1,cartItems:g()})},a.shuffle=function(){for(var e=Object(P.a)(a.state.items),t=[],n=0;n<a.state.items.length;n++)Oe=e.splice(Math.floor(Math.random()*e.length/2)),t=[].concat(Object(P.a)(t),Object(P.a)(Oe));Ie.push(a.state.items),a.setState({items:t})},a.addToCart=function(e){var t=a.state.cartItems.findIndex((function(t){return t._id===e._id}));if(-1===t){var n=a.state.cartItems.concat(Object(R.a)({},e,{quantity:1}));a.setState({cartItems:n},(function(){return h(n)})),console.log(a.state.cartItems)}else{var r=Object(P.a)(a.state.cartItems);r[t].quantity+=1,a.setState({cartItems:r},(function(){return h(r)})),console.log(a.state.cartItems)}},a.deleteItemsFromCart=function(e){var t=a.state.cartItems.filter((function(t){return t._id!==e}));a.setState({cartItems:t},(function(){return h(t)}))},a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(C.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("5dcf9519dc3bcd3de001697b"!==this.props.itemDeptId){e.next=4;break}this.bookDeptId(),e.next=14;break;case 4:return e.prev=4,e.next=7,ye.request("POST","/graphql",{data:{query:'query {\n                    department(id: "'.concat(this.props.itemDeptId,'") {\n                      _id\n                      name\n                      items {\n                        _id\n                        name\n                        description\n                        thumbnail                       \n                        price\n                      }    \n                    }\n                }')}});case 7:t=e.sent,this.setState({items:t.data.department.items,department:t.data.department.name,loadingItems:!1,cartItems:g()}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:this.shuffle();case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.department,n=t.items,r=(t.cartItems,t.loadingItems);function c(e,t){return e.length>t&&t>3?e.slice(0,t-3)+"...":e.length>t&&t<=3?e.slice(0,t)+"...":e}return i.a.createElement(i.a.Fragment,null,i.a.createElement(A,{show:r}),i.a.createElement(T.a,{marginTop:4,display:"flex",justifyContent:"center",alignItems:"start",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}}},i.a.createElement(T.a,{display:"flex",direction:"column",alignItems:"center"},i.a.createElement(T.a,{margin:2},i.a.createElement("div",{style:ve},a)),i.a.createElement("div",{className:"container p-2 m-2 shadow-lg rounded bg-gray"},i.a.createElement(T.a,{align:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"white"}},shape:"rounded",wrap:!0,display:"flex",justifyContent:"around"},n.map((function(t){return i.a.createElement(T.a,{paddingY:4,margin:2,width:200,key:t._id},i.a.createElement(T.c,{image:i.a.createElement(T.a,{height:80,width:80},i.a.createElement(T.h,{fit:"cover",alt:"Department",naturalHeight:1,naturalWidth:1,src:t.thumbnail}))},i.a.createElement(T.a,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column"},i.a.createElement(T.a,{marginBottom:2},i.a.createElement(T.l,{bold:!0,size:"sm"},t.name=c(t.name,50))),i.a.createElement(T.l,{size:"sm"},t.description=c(t.description,90),";"),i.a.createElement(T.l,{color:"orchid"},"$",t.price),i.a.createElement(T.a,{marginTop:2},i.a.createElement(T.l,{size:"sm"},i.a.createElement(T.b,{size:"sm",onClick:function(){return e.addToCart(t)},color:"blue",text:"Add to Cart"}))))))})))))))}}]),t}(i.a.Component),Te=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(O.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],department:"",cartItems:[],itemDeptId:"",itemsSearched:[],displayingCart:!1,displayBooks:!0},a.displayingCartItems=function(){a.setState({displayingCart:!1})},a.addToCart=function(e){var t=a.state.cartItems.findIndex((function(t){return t._id===e._id}));if(-1===t){var n=a.state.cartItems.concat(Object(R.a)({},e,{quantity:1}));a.setState({cartItems:n},(function(){return h(n)})),console.log(a.state.cartItems)}else{var r=Object(P.a)(a.state.cartItems);r[t].quantity+=1,a.setState({cartItems:r},(function(){return h(r)})),console.log(a.state.cartItems)}},a.changeDeptIdState=function(){console.log("THIS IS PROPS FROM ITEMS.JS",a.props),a.setState({itemDeptId:a.props.match.params.departmentId})},a}return Object(x.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setState({displayingCart:!0,cartItems:g()}),this.changeDeptIdState()}},{key:"render",value:function(){var e=this,t=this.state,a=t.displayingCart,n=t.itemDeptId,r=t.itemsSearched;t.cartItems;return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{display:"flex",direction:"row",marginLeft:10},i.a.createElement(T.d,{span:2},i.a.createElement(T.a,null,i.a.createElement(T.l,{color:"white"}))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94e2dc3bcd3de0016978"},i.a.createElement("div",null,i.a.createElement("p",null,"Automotive")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9519dc3bcd3de001697b"},i.a.createElement("div",null,i.a.createElement("p",null,"Books")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf94a0dc3bcd3de0016975"},i.a.createElement("div",null,i.a.createElement("p",null,"Electronics")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9457dc3bcd3de0016972"},i.a.createElement("div",null,i.a.createElement("p",null,"Fashion")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf8d67dc3bcd3de001696f"},i.a.createElement("div",null,i.a.createElement("p",null,"Home")))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(k.a,{to:"5dcf9551dc3bcd3de001697e"},i.a.createElement("div",null,i.a.createElement("p",null,"Sports Outdoor")," "))),i.a.createElement("div",{className:"lineitems"},i.a.createElement(T.a,{marginLeft:1,marginRightt:-1,marginTop:3,paddingLeft:0,paddingRight:0},i.a.createElement(T.b,{size:"sm",onClick:function(){return e.displayingCartItems()},color:"blue",text:"View Cart"})))),i.a.createElement("div",null,a?i.a.createElement(xe,{itemDeptId:n,displayingCartItems:this.displayingCartItems,itemsSearched:r}):i.a.createElement(N,null)))}}]),t}(i.a.Component),ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ae=function(e){var t=e.component,a=Object(n.a)(e,["component"]);return i.a.createElement(o.a,Object.assign({},a,{render:function(e){return null!==E()?i.a.createElement(t,e):i.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))};l.a.render(i.a.createElement((function(){return i.a.createElement(m.a,null,i.a.createElement(i.a.Fragment,null,i.a.createElement($,null),i.a.createElement(d.a,null,i.a.createElement(o.a,{component:K,exact:!0,path:"/"}),i.a.createElement(o.a,{component:q,exact:!0,path:"/searchresult"}),i.a.createElement(o.a,{component:ae,path:"/signin"}),i.a.createElement(o.a,{component:ce,path:"/signup"}),i.a.createElement(Ae,{component:pe,path:"/checkout"}),i.a.createElement(o.a,{component:Te,path:"/:departmentId"}))))}),null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ke?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):je(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):je(e)}))}}()},25:function(e,t,a){},39:function(e,t,a){},52:function(e,t,a){e.exports=a(121)}},[[52,1,2]]]);
//# sourceMappingURL=main.7563407f.chunk.js.map